{"ast":null,"code":"import useVersion from '../useVersion';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useGetOne } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { useNotify, useRedirect, useRefresh } from '../../sideEffect';\nimport { CRUD_GET_ONE } from '../../actions';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n/**\n * Prepare data for the Show view\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = props => {\n *     const controllerProps = useShowController(props);\n *     return <ShowView {...controllerProps} {...props} />;\n * }\n */\nexport var useShowController = function (props) {\n  useCheckMinimumRequiredProps('Show', ['basePath', 'resource'], props);\n  var basePath = props.basePath,\n    hasCreate = props.hasCreate,\n    hasEdit = props.hasEdit,\n    hasList = props.hasList,\n    hasShow = props.hasShow,\n    id = props.id,\n    onFailure = props.onFailure;\n  var resource = useResourceContext(props);\n  var translate = useTranslate();\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n  var version = useVersion();\n  var _a = useGetOne(resource, id, {\n      action: CRUD_GET_ONE,\n      onFailure: onFailure !== null && onFailure !== void 0 ? onFailure : function () {\n        notify('ra.notification.item_doesnt_exist', {\n          type: 'warning'\n        });\n        redirect('list', basePath);\n        refresh();\n      }\n    }),\n    record = _a.data,\n    error = _a.error,\n    loading = _a.loading,\n    loaded = _a.loaded,\n    refetch = _a.refetch;\n  var getResourceLabel = useGetResourceLabel();\n  var defaultTitle = translate('ra.page.show', {\n    name: getResourceLabel(resource, 1),\n    id: id,\n    record: record\n  });\n  return {\n    error: error,\n    loading: loading,\n    loaded: loaded,\n    defaultTitle: defaultTitle,\n    resource: resource,\n    basePath: basePath,\n    record: record,\n    refetch: refetch,\n    hasCreate: hasCreate,\n    hasEdit: hasEdit,\n    hasList: hasList,\n    hasShow: hasShow,\n    version: version\n  };\n};","map":{"version":3,"names":["useVersion","useCheckMinimumRequiredProps","useGetOne","useTranslate","useNotify","useRedirect","useRefresh","CRUD_GET_ONE","useResourceContext","useGetResourceLabel","useShowController","props","basePath","hasCreate","hasEdit","hasList","hasShow","id","onFailure","resource","translate","notify","redirect","refresh","version","_a","action","type","record","data","error","loading","loaded","refetch","getResourceLabel","defaultTitle","name"],"sources":["/node_modules/ra-core/esm/controller/details/useShowController.js"],"sourcesContent":["import useVersion from '../useVersion';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useGetOne } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { useNotify, useRedirect, useRefresh } from '../../sideEffect';\nimport { CRUD_GET_ONE } from '../../actions';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n/**\n * Prepare data for the Show view\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = props => {\n *     const controllerProps = useShowController(props);\n *     return <ShowView {...controllerProps} {...props} />;\n * }\n */\nexport var useShowController = function (props) {\n    useCheckMinimumRequiredProps('Show', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow, id = props.id, onFailure = props.onFailure;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var version = useVersion();\n    var _a = useGetOne(resource, id, {\n        action: CRUD_GET_ONE,\n        onFailure: onFailure !== null && onFailure !== void 0 ? onFailure : (function () {\n            notify('ra.notification.item_doesnt_exist', {\n                type: 'warning',\n            });\n            redirect('list', basePath);\n            refresh();\n        }),\n    }), record = _a.data, error = _a.error, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate('ra.page.show', {\n        name: getResourceLabel(resource, 1),\n        id: id,\n        record: record,\n    });\n    return {\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        defaultTitle: defaultTitle,\n        resource: resource,\n        basePath: basePath,\n        record: record,\n        refetch: refetch,\n        hasCreate: hasCreate,\n        hasEdit: hasEdit,\n        hasList: hasList,\n        hasShow: hasShow,\n        version: version,\n    };\n};\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,eAAe;AACtC,SAASC,4BAA4B,QAAQ,8BAA8B;AAC3E,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,YAAY,QAAQ,YAAY;AACzC,SAASC,SAAS,EAAEC,WAAW,EAAEC,UAAU,QAAQ,kBAAkB;AACrE,SAASC,YAAY,QAAQ,eAAe;AAC5C,SAASC,kBAAkB,EAAEC,mBAAmB,QAAQ,YAAY;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIC,iBAAiB,GAAG,SAAAA,CAAUC,KAAK,EAAE;EAC5CV,4BAA4B,CAAC,MAAM,EAAE,CAAC,UAAU,EAAE,UAAU,CAAC,EAAEU,KAAK,CAAC;EACrE,IAAIC,QAAQ,GAAGD,KAAK,CAACC,QAAQ;IAAEC,SAAS,GAAGF,KAAK,CAACE,SAAS;IAAEC,OAAO,GAAGH,KAAK,CAACG,OAAO;IAAEC,OAAO,GAAGJ,KAAK,CAACI,OAAO;IAAEC,OAAO,GAAGL,KAAK,CAACK,OAAO;IAAEC,EAAE,GAAGN,KAAK,CAACM,EAAE;IAAEC,SAAS,GAAGP,KAAK,CAACO,SAAS;EACjL,IAAIC,QAAQ,GAAGX,kBAAkB,CAACG,KAAK,CAAC;EACxC,IAAIS,SAAS,GAAGjB,YAAY,EAAE;EAC9B,IAAIkB,MAAM,GAAGjB,SAAS,EAAE;EACxB,IAAIkB,QAAQ,GAAGjB,WAAW,EAAE;EAC5B,IAAIkB,OAAO,GAAGjB,UAAU,EAAE;EAC1B,IAAIkB,OAAO,GAAGxB,UAAU,EAAE;EAC1B,IAAIyB,EAAE,GAAGvB,SAAS,CAACiB,QAAQ,EAAEF,EAAE,EAAE;MAC7BS,MAAM,EAAEnB,YAAY;MACpBW,SAAS,EAAEA,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAGA,SAAS,GAAI,YAAY;QAC7EG,MAAM,CAAC,mCAAmC,EAAE;UACxCM,IAAI,EAAE;QACV,CAAC,CAAC;QACFL,QAAQ,CAAC,MAAM,EAAEV,QAAQ,CAAC;QAC1BW,OAAO,EAAE;MACb;IACJ,CAAC,CAAC;IAAEK,MAAM,GAAGH,EAAE,CAACI,IAAI;IAAEC,KAAK,GAAGL,EAAE,CAACK,KAAK;IAAEC,OAAO,GAAGN,EAAE,CAACM,OAAO;IAAEC,MAAM,GAAGP,EAAE,CAACO,MAAM;IAAEC,OAAO,GAAGR,EAAE,CAACQ,OAAO;EACtG,IAAIC,gBAAgB,GAAGzB,mBAAmB,EAAE;EAC5C,IAAI0B,YAAY,GAAGf,SAAS,CAAC,cAAc,EAAE;IACzCgB,IAAI,EAAEF,gBAAgB,CAACf,QAAQ,EAAE,CAAC,CAAC;IACnCF,EAAE,EAAEA,EAAE;IACNW,MAAM,EAAEA;EACZ,CAAC,CAAC;EACF,OAAO;IACHE,KAAK,EAAEA,KAAK;IACZC,OAAO,EAAEA,OAAO;IAChBC,MAAM,EAAEA,MAAM;IACdG,YAAY,EAAEA,YAAY;IAC1BhB,QAAQ,EAAEA,QAAQ;IAClBP,QAAQ,EAAEA,QAAQ;IAClBgB,MAAM,EAAEA,MAAM;IACdK,OAAO,EAAEA,OAAO;IAChBpB,SAAS,EAAEA,SAAS;IACpBC,OAAO,EAAEA,OAAO;IAChBC,OAAO,EAAEA,OAAO;IAChBC,OAAO,EAAEA,OAAO;IAChBQ,OAAO,EAAEA;EACb,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module"}