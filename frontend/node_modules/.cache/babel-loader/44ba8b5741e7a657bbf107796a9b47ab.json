{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { useCallback, useMemo, useEffect, useState, useRef } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport queryReducer, { SET_FILTER, HIDE_FILTER, SHOW_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC } from '../reducer/admin/resource/list/queryReducer';\nimport { changeListParams } from '../actions/listActions';\nimport removeEmpty from '../util/removeEmpty';\nimport { useIsMounted } from '../util/hooks';\nvar emptyObject = {};\nvar defaultSort = {\n  field: 'id',\n  order: SORT_ASC\n};\nvar defaultParams = {};\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nvar useListParams = function (_a) {\n  var resource = _a.resource,\n    filterDefaultValues = _a.filterDefaultValues,\n    _b = _a.sort,\n    sort = _b === void 0 ? defaultSort : _b,\n    _c = _a.perPage,\n    perPage = _c === void 0 ? 10 : _c,\n    _d = _a.debounce,\n    debounce = _d === void 0 ? 500 : _d,\n    _e = _a.syncWithLocation,\n    syncWithLocation = _e === void 0 ? false : _e;\n  var dispatch = useDispatch();\n  var location = useLocation();\n  var history = useHistory();\n  var _f = useState(defaultParams),\n    localParams = _f[0],\n    setLocalParams = _f[1];\n  var params = useSelector(function (reduxState) {\n    return reduxState.admin.resources[resource] ? reduxState.admin.resources[resource].list.params : defaultParams;\n  }, shallowEqual);\n  var tempParams = useRef();\n  var isMounted = useIsMounted();\n  var requestSignature = [location.search, resource, syncWithLocation ? params : localParams, filterDefaultValues, JSON.stringify(sort), perPage, syncWithLocation];\n  var queryFromLocation = syncWithLocation ? parseQueryFromLocation(location) : {};\n  var query = useMemo(function () {\n    return getQuery({\n      queryFromLocation: queryFromLocation,\n      params: syncWithLocation ? params : localParams,\n      filterDefaultValues: filterDefaultValues,\n      sort: sort,\n      perPage: perPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  // if the location includes params (for example from a link like\n  // the categories products on the demo), we need to persist them in the\n  // redux state as well so that we don't lose them after a redirection back\n  // to the list\n  useEffect(function () {\n    if (Object.keys(queryFromLocation).length > 0) {\n      dispatch(changeListParams(resource, query));\n    }\n  }, [location.search]); // eslint-disable-line\n  var changeParams = useCallback(function (action) {\n    // do not change params if the component is already unmounted\n    // this is necessary because changeParams can be debounced, and therefore\n    // executed after the component is unmounted\n    if (!isMounted.current) return;\n    if (!tempParams.current) {\n      // no other changeParams action dispatched this tick\n      tempParams.current = queryReducer(query, action);\n      // schedule side effects for next tick\n      setTimeout(function () {\n        if (syncWithLocation) {\n          history.push({\n            search: \"?\" + stringify(__assign(__assign({}, tempParams.current), {\n              filter: JSON.stringify(tempParams.current.filter),\n              displayedFilters: JSON.stringify(tempParams.current.displayedFilters)\n            })),\n            state: {\n              _scrollToTop: action.type === SET_PAGE\n            }\n          });\n          // the useEffect above will apply the changes to the params in the redux state\n        } else {\n          setLocalParams(tempParams.current);\n        }\n        tempParams.current = undefined;\n      }, 0);\n    } else {\n      // side effects already scheduled, just change the params\n      tempParams.current = queryReducer(tempParams.current, action);\n    }\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n  var setSort = useCallback(function (sort, order) {\n    return changeParams({\n      type: SET_SORT,\n      payload: {\n        sort: sort,\n        order: order\n      }\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var setPage = useCallback(function (newPage) {\n    return changeParams({\n      type: SET_PAGE,\n      payload: newPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var setPerPage = useCallback(function (newPerPage) {\n    return changeParams({\n      type: SET_PER_PAGE,\n      payload: newPerPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var filterValues = query.filter || emptyObject;\n  var displayedFilterValues = query.displayedFilters || emptyObject;\n  var debouncedSetFilters = lodashDebounce(function (filter, displayedFilters) {\n    changeParams({\n      type: SET_FILTER,\n      payload: {\n        filter: removeEmpty(filter),\n        displayedFilters: displayedFilters\n      }\n    });\n  }, debounce);\n  var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n    if (debounce === void 0) {\n      debounce = true;\n    }\n    return debounce ? debouncedSetFilters(filter, displayedFilters) : changeParams({\n      type: SET_FILTER,\n      payload: {\n        filter: removeEmpty(filter),\n        displayedFilters: displayedFilters\n      }\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var hideFilter = useCallback(function (filterName) {\n    changeParams({\n      type: HIDE_FILTER,\n      payload: filterName\n    });\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n  var showFilter = useCallback(function (filterName, defaultValue) {\n    changeParams({\n      type: SHOW_FILTER,\n      payload: {\n        filterName: filterName,\n        defaultValue: defaultValue\n      }\n    });\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n  return [__assign({\n    displayedFilters: displayedFilterValues,\n    filterValues: filterValues,\n    requestSignature: requestSignature\n  }, query), {\n    changeParams: changeParams,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSort,\n    setFilters: setFilters,\n    hideFilter: hideFilter,\n    showFilter: showFilter\n  }];\n};\nexport var validQueryParams = ['page', 'perPage', 'sort', 'order', 'filter', 'displayedFilters'];\nvar parseObject = function (query, field) {\n  if (query[field] && typeof query[field] === 'string') {\n    try {\n      query[field] = JSON.parse(query[field]);\n    } catch (err) {\n      delete query[field];\n    }\n  }\n};\nexport var parseQueryFromLocation = function (_a) {\n  var search = _a.search;\n  var query = pickBy(parse(search), function (v, k) {\n    return validQueryParams.indexOf(k) !== -1;\n  });\n  parseObject(query, 'filter');\n  parseObject(query, 'displayedFilters');\n  return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n  return params && params.filter && (Object.keys(params.filter).length > 0 || params.order != null || params.page !== 1 || params.perPage != null || params.sort != null);\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n  var queryFromLocation = _a.queryFromLocation,\n    params = _a.params,\n    filterDefaultValues = _a.filterDefaultValues,\n    sort = _a.sort,\n    perPage = _a.perPage;\n  var query = Object.keys(queryFromLocation).length > 0 ? queryFromLocation : hasCustomParams(params) ? __assign({}, params) : {\n    filter: filterDefaultValues || {}\n  };\n  if (!query.sort) {\n    query.sort = sort.field;\n    query.order = sort.order;\n  }\n  if (query.perPage == null) {\n    query.perPage = perPage;\n  }\n  if (query.page == null) {\n    query.page = 1;\n  }\n  return __assign(__assign({}, query), {\n    page: getNumberOrDefault(query.page, 1),\n    perPage: getNumberOrDefault(query.perPage, 10)\n  });\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n  var parsedNumber = typeof possibleNumber === 'string' ? parseInt(possibleNumber, 10) : possibleNumber;\n  return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nexport default useListParams;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","useCallback","useMemo","useEffect","useState","useRef","useSelector","useDispatch","shallowEqual","parse","stringify","lodashDebounce","pickBy","useHistory","useLocation","queryReducer","SET_FILTER","HIDE_FILTER","SHOW_FILTER","SET_PAGE","SET_PER_PAGE","SET_SORT","SORT_ASC","changeListParams","removeEmpty","useIsMounted","emptyObject","defaultSort","field","order","defaultParams","useListParams","_a","resource","filterDefaultValues","_b","sort","_c","perPage","_d","debounce","_e","syncWithLocation","dispatch","location","history","_f","localParams","setLocalParams","params","reduxState","admin","resources","list","tempParams","isMounted","requestSignature","search","JSON","queryFromLocation","parseQueryFromLocation","query","getQuery","keys","changeParams","action","current","setTimeout","push","filter","displayedFilters","state","_scrollToTop","type","undefined","setSort","payload","setPage","newPage","setPerPage","newPerPage","filterValues","displayedFilterValues","debouncedSetFilters","setFilters","hideFilter","filterName","showFilter","defaultValue","validQueryParams","parseObject","err","v","k","indexOf","hasCustomParams","page","getNumberOrDefault","possibleNumber","parsedNumber","parseInt","isNaN"],"sources":["/node_modules/ra-core/esm/controller/useListParams.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback, useMemo, useEffect, useState, useRef } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport queryReducer, { SET_FILTER, HIDE_FILTER, SHOW_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC, } from '../reducer/admin/resource/list/queryReducer';\nimport { changeListParams } from '../actions/listActions';\nimport removeEmpty from '../util/removeEmpty';\nimport { useIsMounted } from '../util/hooks';\nvar emptyObject = {};\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultParams = {};\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nvar useListParams = function (_a) {\n    var resource = _a.resource, filterDefaultValues = _a.filterDefaultValues, _b = _a.sort, sort = _b === void 0 ? defaultSort : _b, _c = _a.perPage, perPage = _c === void 0 ? 10 : _c, _d = _a.debounce, debounce = _d === void 0 ? 500 : _d, _e = _a.syncWithLocation, syncWithLocation = _e === void 0 ? false : _e;\n    var dispatch = useDispatch();\n    var location = useLocation();\n    var history = useHistory();\n    var _f = useState(defaultParams), localParams = _f[0], setLocalParams = _f[1];\n    var params = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.params\n            : defaultParams;\n    }, shallowEqual);\n    var tempParams = useRef();\n    var isMounted = useIsMounted();\n    var requestSignature = [\n        location.search,\n        resource,\n        syncWithLocation ? params : localParams,\n        filterDefaultValues,\n        JSON.stringify(sort),\n        perPage,\n        syncWithLocation,\n    ];\n    var queryFromLocation = syncWithLocation\n        ? parseQueryFromLocation(location)\n        : {};\n    var query = useMemo(function () {\n        return getQuery({\n            queryFromLocation: queryFromLocation,\n            params: syncWithLocation ? params : localParams,\n            filterDefaultValues: filterDefaultValues,\n            sort: sort,\n            perPage: perPage,\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    // if the location includes params (for example from a link like\n    // the categories products on the demo), we need to persist them in the\n    // redux state as well so that we don't lose them after a redirection back\n    // to the list\n    useEffect(function () {\n        if (Object.keys(queryFromLocation).length > 0) {\n            dispatch(changeListParams(resource, query));\n        }\n    }, [location.search]); // eslint-disable-line\n    var changeParams = useCallback(function (action) {\n        // do not change params if the component is already unmounted\n        // this is necessary because changeParams can be debounced, and therefore\n        // executed after the component is unmounted\n        if (!isMounted.current)\n            return;\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(function () {\n                if (syncWithLocation) {\n                    history.push({\n                        search: \"?\" + stringify(__assign(__assign({}, tempParams.current), { filter: JSON.stringify(tempParams.current.filter), displayedFilters: JSON.stringify(tempParams.current.displayedFilters) })),\n                        state: { _scrollToTop: action.type === SET_PAGE },\n                    });\n                    // the useEffect above will apply the changes to the params in the redux state\n                }\n                else {\n                    setLocalParams(tempParams.current);\n                }\n                tempParams.current = undefined;\n            }, 0);\n        }\n        else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var setSort = useCallback(function (sort, order) {\n        return changeParams({\n            type: SET_SORT,\n            payload: { sort: sort, order: order },\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPage = useCallback(function (newPage) { return changeParams({ type: SET_PAGE, payload: newPage }); }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPerPage = useCallback(function (newPerPage) {\n        return changeParams({ type: SET_PER_PAGE, payload: newPerPage });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var filterValues = query.filter || emptyObject;\n    var displayedFilterValues = query.displayedFilters || emptyObject;\n    var debouncedSetFilters = lodashDebounce(function (filter, displayedFilters) {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters: displayedFilters,\n            },\n        });\n    }, debounce);\n    var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n        if (debounce === void 0) { debounce = true; }\n        return debounce\n            ? debouncedSetFilters(filter, displayedFilters)\n            : changeParams({\n                type: SET_FILTER,\n                payload: {\n                    filter: removeEmpty(filter),\n                    displayedFilters: displayedFilters,\n                },\n            });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var hideFilter = useCallback(function (filterName) {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName: filterName,\n                defaultValue: defaultValue,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    return [\n        __assign({ displayedFilters: displayedFilterValues, filterValues: filterValues, requestSignature: requestSignature }, query),\n        {\n            changeParams: changeParams,\n            setPage: setPage,\n            setPerPage: setPerPage,\n            setSort: setSort,\n            setFilters: setFilters,\n            hideFilter: hideFilter,\n            showFilter: showFilter,\n        },\n    ];\n};\nexport var validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\nvar parseObject = function (query, field) {\n    if (query[field] && typeof query[field] === 'string') {\n        try {\n            query[field] = JSON.parse(query[field]);\n        }\n        catch (err) {\n            delete query[field];\n        }\n    }\n};\nexport var parseQueryFromLocation = function (_a) {\n    var search = _a.search;\n    var query = pickBy(parse(search), function (v, k) { return validQueryParams.indexOf(k) !== -1; });\n    parseObject(query, 'filter');\n    parseObject(query, 'displayedFilters');\n    return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n    return (params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null));\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n    var queryFromLocation = _a.queryFromLocation, params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, perPage = _a.perPage;\n    var query = Object.keys(queryFromLocation).length > 0\n        ? queryFromLocation\n        : hasCustomParams(params)\n            ? __assign({}, params) : { filter: filterDefaultValues || {} };\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n    return __assign(__assign({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n    var parsedNumber = typeof possibleNumber === 'string'\n        ? parseInt(possibleNumber, 10)\n        : possibleNumber;\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nexport default useListParams;\n"],"mappings":"AAAA,IAAIA,QAAQ,GAAI,IAAI,IAAI,IAAI,CAACA,QAAQ,IAAK,YAAY;EAClDA,QAAQ,GAAGC,MAAM,CAACC,MAAM,IAAI,UAASC,CAAC,EAAE;IACpC,KAAK,IAAIC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACjDD,CAAC,GAAGG,SAAS,CAACF,CAAC,CAAC;MAChB,KAAK,IAAII,CAAC,IAAIL,CAAC,EAAE,IAAIH,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,EAC3DN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IACnB;IACA,OAAON,CAAC;EACZ,CAAC;EACD,OAAOH,QAAQ,CAACa,KAAK,CAAC,IAAI,EAAEN,SAAS,CAAC;AAC1C,CAAC;AACD,SAASO,WAAW,EAAEC,OAAO,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACzE,SAASC,WAAW,EAAEC,WAAW,EAAEC,YAAY,QAAQ,aAAa;AACpE,SAASC,KAAK,EAAEC,SAAS,QAAQ,cAAc;AAC/C,OAAOC,cAAc,MAAM,iBAAiB;AAC5C,OAAOC,MAAM,MAAM,eAAe;AAClC,SAASC,UAAU,EAAEC,WAAW,QAAQ,kBAAkB;AAC1D,OAAOC,YAAY,IAAIC,UAAU,EAAEC,WAAW,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,QAAQ,QAAS,6CAA6C;AAC7J,SAASC,gBAAgB,QAAQ,wBAAwB;AACzD,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,SAASC,YAAY,QAAQ,eAAe;AAC5C,IAAIC,WAAW,GAAG,CAAC,CAAC;AACpB,IAAIC,WAAW,GAAG;EACdC,KAAK,EAAE,IAAI;EACXC,KAAK,EAAEP;AACX,CAAC;AACD,IAAIQ,aAAa,GAAG,CAAC,CAAC;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,aAAa,GAAG,SAAAA,CAAUC,EAAE,EAAE;EAC9B,IAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAQ;IAAEC,mBAAmB,GAAGF,EAAE,CAACE,mBAAmB;IAAEC,EAAE,GAAGH,EAAE,CAACI,IAAI;IAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAGR,WAAW,GAAGQ,EAAE;IAAEE,EAAE,GAAGL,EAAE,CAACM,OAAO;IAAEA,OAAO,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;IAAEE,EAAE,GAAGP,EAAE,CAACQ,QAAQ;IAAEA,QAAQ,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;IAAEE,EAAE,GAAGT,EAAE,CAACU,gBAAgB;IAAEA,gBAAgB,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,GAAGA,EAAE;EACnT,IAAIE,QAAQ,GAAGpC,WAAW,EAAE;EAC5B,IAAIqC,QAAQ,GAAG9B,WAAW,EAAE;EAC5B,IAAI+B,OAAO,GAAGhC,UAAU,EAAE;EAC1B,IAAIiC,EAAE,GAAG1C,QAAQ,CAAC0B,aAAa,CAAC;IAAEiB,WAAW,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,cAAc,GAAGF,EAAE,CAAC,CAAC,CAAC;EAC7E,IAAIG,MAAM,GAAG3C,WAAW,CAAC,UAAU4C,UAAU,EAAE;IAC3C,OAAOA,UAAU,CAACC,KAAK,CAACC,SAAS,CAACnB,QAAQ,CAAC,GACrCiB,UAAU,CAACC,KAAK,CAACC,SAAS,CAACnB,QAAQ,CAAC,CAACoB,IAAI,CAACJ,MAAM,GAChDnB,aAAa;EACvB,CAAC,EAAEtB,YAAY,CAAC;EAChB,IAAI8C,UAAU,GAAGjD,MAAM,EAAE;EACzB,IAAIkD,SAAS,GAAG9B,YAAY,EAAE;EAC9B,IAAI+B,gBAAgB,GAAG,CACnBZ,QAAQ,CAACa,MAAM,EACfxB,QAAQ,EACRS,gBAAgB,GAAGO,MAAM,GAAGF,WAAW,EACvCb,mBAAmB,EACnBwB,IAAI,CAAChD,SAAS,CAAC0B,IAAI,CAAC,EACpBE,OAAO,EACPI,gBAAgB,CACnB;EACD,IAAIiB,iBAAiB,GAAGjB,gBAAgB,GAClCkB,sBAAsB,CAAChB,QAAQ,CAAC,GAChC,CAAC,CAAC;EACR,IAAIiB,KAAK,GAAG3D,OAAO,CAAC,YAAY;IAC5B,OAAO4D,QAAQ,CAAC;MACZH,iBAAiB,EAAEA,iBAAiB;MACpCV,MAAM,EAAEP,gBAAgB,GAAGO,MAAM,GAAGF,WAAW;MAC/Cb,mBAAmB,EAAEA,mBAAmB;MACxCE,IAAI,EAAEA,IAAI;MACVE,OAAO,EAAEA;IACb,CAAC,CAAC;EACN,CAAC,EAAEkB,gBAAgB,CAAC;EAAA,CACnB;EACD;EACA;EACA;EACA;EACArD,SAAS,CAAC,YAAY;IAClB,IAAIf,MAAM,CAAC2E,IAAI,CAACJ,iBAAiB,CAAC,CAAChE,MAAM,GAAG,CAAC,EAAE;MAC3CgD,QAAQ,CAACpB,gBAAgB,CAACU,QAAQ,EAAE4B,KAAK,CAAC,CAAC;IAC/C;EACJ,CAAC,EAAE,CAACjB,QAAQ,CAACa,MAAM,CAAC,CAAC,CAAC,CAAC;EACvB,IAAIO,YAAY,GAAG/D,WAAW,CAAC,UAAUgE,MAAM,EAAE;IAC7C;IACA;IACA;IACA,IAAI,CAACV,SAAS,CAACW,OAAO,EAClB;IACJ,IAAI,CAACZ,UAAU,CAACY,OAAO,EAAE;MACrB;MACAZ,UAAU,CAACY,OAAO,GAAGnD,YAAY,CAAC8C,KAAK,EAAEI,MAAM,CAAC;MAChD;MACAE,UAAU,CAAC,YAAY;QACnB,IAAIzB,gBAAgB,EAAE;UAClBG,OAAO,CAACuB,IAAI,CAAC;YACTX,MAAM,EAAE,GAAG,GAAG/C,SAAS,CAACvB,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEmE,UAAU,CAACY,OAAO,CAAC,EAAE;cAAEG,MAAM,EAAEX,IAAI,CAAChD,SAAS,CAAC4C,UAAU,CAACY,OAAO,CAACG,MAAM,CAAC;cAAEC,gBAAgB,EAAEZ,IAAI,CAAChD,SAAS,CAAC4C,UAAU,CAACY,OAAO,CAACI,gBAAgB;YAAE,CAAC,CAAC,CAAC;YACjMC,KAAK,EAAE;cAAEC,YAAY,EAAEP,MAAM,CAACQ,IAAI,KAAKtD;YAAS;UACpD,CAAC,CAAC;UACF;QACJ,CAAC,MACI;UACD6B,cAAc,CAACM,UAAU,CAACY,OAAO,CAAC;QACtC;QACAZ,UAAU,CAACY,OAAO,GAAGQ,SAAS;MAClC,CAAC,EAAE,CAAC,CAAC;IACT,CAAC,MACI;MACD;MACApB,UAAU,CAACY,OAAO,GAAGnD,YAAY,CAACuC,UAAU,CAACY,OAAO,EAAED,MAAM,CAAC;IACjE;EACJ,CAAC,EAAET,gBAAgB,CAAC,CAAC,CAAC;EACtB,IAAImB,OAAO,GAAG1E,WAAW,CAAC,UAAUmC,IAAI,EAAEP,KAAK,EAAE;IAC7C,OAAOmC,YAAY,CAAC;MAChBS,IAAI,EAAEpD,QAAQ;MACduD,OAAO,EAAE;QAAExC,IAAI,EAAEA,IAAI;QAAEP,KAAK,EAAEA;MAAM;IACxC,CAAC,CAAC;EACN,CAAC,EAAE2B,gBAAgB,CAAC;EAAA,CACnB;;EACD,IAAIqB,OAAO,GAAG5E,WAAW,CAAC,UAAU6E,OAAO,EAAE;IAAE,OAAOd,YAAY,CAAC;MAAES,IAAI,EAAEtD,QAAQ;MAAEyD,OAAO,EAAEE;IAAQ,CAAC,CAAC;EAAE,CAAC,EAAEtB,gBAAgB,CAAC;EAAA,CAC7H;;EACD,IAAIuB,UAAU,GAAG9E,WAAW,CAAC,UAAU+E,UAAU,EAAE;IAC/C,OAAOhB,YAAY,CAAC;MAAES,IAAI,EAAErD,YAAY;MAAEwD,OAAO,EAAEI;IAAW,CAAC,CAAC;EACpE,CAAC,EAAExB,gBAAgB,CAAC;EAAA,CACnB;;EACD,IAAIyB,YAAY,GAAGpB,KAAK,CAACQ,MAAM,IAAI3C,WAAW;EAC9C,IAAIwD,qBAAqB,GAAGrB,KAAK,CAACS,gBAAgB,IAAI5C,WAAW;EACjE,IAAIyD,mBAAmB,GAAGxE,cAAc,CAAC,UAAU0D,MAAM,EAAEC,gBAAgB,EAAE;IACzEN,YAAY,CAAC;MACTS,IAAI,EAAEzD,UAAU;MAChB4D,OAAO,EAAE;QACLP,MAAM,EAAE7C,WAAW,CAAC6C,MAAM,CAAC;QAC3BC,gBAAgB,EAAEA;MACtB;IACJ,CAAC,CAAC;EACN,CAAC,EAAE9B,QAAQ,CAAC;EACZ,IAAI4C,UAAU,GAAGnF,WAAW,CAAC,UAAUoE,MAAM,EAAEC,gBAAgB,EAAE9B,QAAQ,EAAE;IACvE,IAAIA,QAAQ,KAAK,KAAK,CAAC,EAAE;MAAEA,QAAQ,GAAG,IAAI;IAAE;IAC5C,OAAOA,QAAQ,GACT2C,mBAAmB,CAACd,MAAM,EAAEC,gBAAgB,CAAC,GAC7CN,YAAY,CAAC;MACXS,IAAI,EAAEzD,UAAU;MAChB4D,OAAO,EAAE;QACLP,MAAM,EAAE7C,WAAW,CAAC6C,MAAM,CAAC;QAC3BC,gBAAgB,EAAEA;MACtB;IACJ,CAAC,CAAC;EACV,CAAC,EAAEd,gBAAgB,CAAC;EAAA,CACnB;;EACD,IAAI6B,UAAU,GAAGpF,WAAW,CAAC,UAAUqF,UAAU,EAAE;IAC/CtB,YAAY,CAAC;MACTS,IAAI,EAAExD,WAAW;MACjB2D,OAAO,EAAEU;IACb,CAAC,CAAC;EACN,CAAC,EAAE9B,gBAAgB,CAAC,CAAC,CAAC;EACtB,IAAI+B,UAAU,GAAGtF,WAAW,CAAC,UAAUqF,UAAU,EAAEE,YAAY,EAAE;IAC7DxB,YAAY,CAAC;MACTS,IAAI,EAAEvD,WAAW;MACjB0D,OAAO,EAAE;QACLU,UAAU,EAAEA,UAAU;QACtBE,YAAY,EAAEA;MAClB;IACJ,CAAC,CAAC;EACN,CAAC,EAAEhC,gBAAgB,CAAC,CAAC,CAAC;EACtB,OAAO,CACHrE,QAAQ,CAAC;IAAEmF,gBAAgB,EAAEY,qBAAqB;IAAED,YAAY,EAAEA,YAAY;IAAEzB,gBAAgB,EAAEA;EAAiB,CAAC,EAAEK,KAAK,CAAC,EAC5H;IACIG,YAAY,EAAEA,YAAY;IAC1Ba,OAAO,EAAEA,OAAO;IAChBE,UAAU,EAAEA,UAAU;IACtBJ,OAAO,EAAEA,OAAO;IAChBS,UAAU,EAAEA,UAAU;IACtBC,UAAU,EAAEA,UAAU;IACtBE,UAAU,EAAEA;EAChB,CAAC,CACJ;AACL,CAAC;AACD,OAAO,IAAIE,gBAAgB,GAAG,CAC1B,MAAM,EACN,SAAS,EACT,MAAM,EACN,OAAO,EACP,QAAQ,EACR,kBAAkB,CACrB;AACD,IAAIC,WAAW,GAAG,SAAAA,CAAU7B,KAAK,EAAEjC,KAAK,EAAE;EACtC,IAAIiC,KAAK,CAACjC,KAAK,CAAC,IAAI,OAAOiC,KAAK,CAACjC,KAAK,CAAC,KAAK,QAAQ,EAAE;IAClD,IAAI;MACAiC,KAAK,CAACjC,KAAK,CAAC,GAAG8B,IAAI,CAACjD,KAAK,CAACoD,KAAK,CAACjC,KAAK,CAAC,CAAC;IAC3C,CAAC,CACD,OAAO+D,GAAG,EAAE;MACR,OAAO9B,KAAK,CAACjC,KAAK,CAAC;IACvB;EACJ;AACJ,CAAC;AACD,OAAO,IAAIgC,sBAAsB,GAAG,SAAAA,CAAU5B,EAAE,EAAE;EAC9C,IAAIyB,MAAM,GAAGzB,EAAE,CAACyB,MAAM;EACtB,IAAII,KAAK,GAAGjD,MAAM,CAACH,KAAK,CAACgD,MAAM,CAAC,EAAE,UAAUmC,CAAC,EAAEC,CAAC,EAAE;IAAE,OAAOJ,gBAAgB,CAACK,OAAO,CAACD,CAAC,CAAC,KAAK,CAAC,CAAC;EAAE,CAAC,CAAC;EACjGH,WAAW,CAAC7B,KAAK,EAAE,QAAQ,CAAC;EAC5B6B,WAAW,CAAC7B,KAAK,EAAE,kBAAkB,CAAC;EACtC,OAAOA,KAAK;AAChB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIkC,eAAe,GAAG,SAAAA,CAAU9C,MAAM,EAAE;EAC3C,OAAQA,MAAM,IACVA,MAAM,CAACoB,MAAM,KACZjF,MAAM,CAAC2E,IAAI,CAACd,MAAM,CAACoB,MAAM,CAAC,CAAC1E,MAAM,GAAG,CAAC,IAClCsD,MAAM,CAACpB,KAAK,IAAI,IAAI,IACpBoB,MAAM,CAAC+C,IAAI,KAAK,CAAC,IACjB/C,MAAM,CAACX,OAAO,IAAI,IAAI,IACtBW,MAAM,CAACb,IAAI,IAAI,IAAI,CAAC;AAChC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAI0B,QAAQ,GAAG,SAAAA,CAAU9B,EAAE,EAAE;EAChC,IAAI2B,iBAAiB,GAAG3B,EAAE,CAAC2B,iBAAiB;IAAEV,MAAM,GAAGjB,EAAE,CAACiB,MAAM;IAAEf,mBAAmB,GAAGF,EAAE,CAACE,mBAAmB;IAAEE,IAAI,GAAGJ,EAAE,CAACI,IAAI;IAAEE,OAAO,GAAGN,EAAE,CAACM,OAAO;EACpJ,IAAIuB,KAAK,GAAGzE,MAAM,CAAC2E,IAAI,CAACJ,iBAAiB,CAAC,CAAChE,MAAM,GAAG,CAAC,GAC/CgE,iBAAiB,GACjBoC,eAAe,CAAC9C,MAAM,CAAC,GACnB9D,QAAQ,CAAC,CAAC,CAAC,EAAE8D,MAAM,CAAC,GAAG;IAAEoB,MAAM,EAAEnC,mBAAmB,IAAI,CAAC;EAAE,CAAC;EACtE,IAAI,CAAC2B,KAAK,CAACzB,IAAI,EAAE;IACbyB,KAAK,CAACzB,IAAI,GAAGA,IAAI,CAACR,KAAK;IACvBiC,KAAK,CAAChC,KAAK,GAAGO,IAAI,CAACP,KAAK;EAC5B;EACA,IAAIgC,KAAK,CAACvB,OAAO,IAAI,IAAI,EAAE;IACvBuB,KAAK,CAACvB,OAAO,GAAGA,OAAO;EAC3B;EACA,IAAIuB,KAAK,CAACmC,IAAI,IAAI,IAAI,EAAE;IACpBnC,KAAK,CAACmC,IAAI,GAAG,CAAC;EAClB;EACA,OAAO7G,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAE0E,KAAK,CAAC,EAAE;IAAEmC,IAAI,EAAEC,kBAAkB,CAACpC,KAAK,CAACmC,IAAI,EAAE,CAAC,CAAC;IAAE1D,OAAO,EAAE2D,kBAAkB,CAACpC,KAAK,CAACvB,OAAO,EAAE,EAAE;EAAE,CAAC,CAAC;AACrI,CAAC;AACD,OAAO,IAAI2D,kBAAkB,GAAG,SAAAA,CAAUC,cAAc,EAAEV,YAAY,EAAE;EACpE,IAAIW,YAAY,GAAG,OAAOD,cAAc,KAAK,QAAQ,GAC/CE,QAAQ,CAACF,cAAc,EAAE,EAAE,CAAC,GAC5BA,cAAc;EACpB,OAAOG,KAAK,CAACF,YAAY,CAAC,GAAGX,YAAY,GAAGW,YAAY;AAC5D,CAAC;AACD,eAAepE,aAAa"},"metadata":{},"sourceType":"module"}