{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useMemo } from 'react';\nimport { Typography } from '@material-ui/core';\nimport classNames from 'classnames';\nimport FormInput from '../../form/FormInput';\nimport { useSimpleFormIterator } from './useSimpleFormIterator';\nimport { SimpleFormIteratorItemContext } from './SimpleFormIteratorItemContext';\nexport var SimpleFormIteratorItem = React.forwardRef(function (props, ref) {\n  var basePath = props.basePath,\n    children = props.children,\n    classes = props.classes,\n    disabled = props.disabled,\n    disableReordering = props.disableReordering,\n    disableRemove = props.disableRemove,\n    getItemLabel = props.getItemLabel,\n    index = props.index,\n    margin = props.margin,\n    member = props.member,\n    record = props.record,\n    removeButton = props.removeButton,\n    reOrderButtons = props.reOrderButtons,\n    resource = props.resource,\n    source = props.source,\n    variant = props.variant;\n  var _a = useSimpleFormIterator(),\n    total = _a.total,\n    reOrder = _a.reOrder,\n    remove = _a.remove;\n  // Returns a boolean to indicate whether to disable the remove button for certain fields.\n  // If disableRemove is a function, then call the function with the current record to\n  // determining if the button should be disabled. Otherwise, use a boolean property that\n  // enables or disables the button for all of the fields.\n  var disableRemoveField = function (record) {\n    if (typeof disableRemove === 'boolean') {\n      return disableRemove;\n    }\n    return disableRemove && disableRemove(record);\n  };\n  // remove field and call the onClick event of the button passed as removeButton prop\n  var handleRemoveButtonClick = function (originalOnClickHandler, index) {\n    return function (event) {\n      remove(index);\n      if (originalOnClickHandler) {\n        originalOnClickHandler(event);\n      }\n    };\n  };\n  var context = useMemo(function () {\n    return {\n      index: index,\n      total: total,\n      reOrder: function (newIndex) {\n        return reOrder(index, newIndex);\n      },\n      remove: function () {\n        return remove(index);\n      }\n    };\n  }, [index, total, reOrder, remove]);\n  return React.createElement(SimpleFormIteratorItemContext.Provider, {\n    value: context\n  }, React.createElement(\"li\", {\n    className: classes.line,\n    ref: ref\n  }, React.createElement(\"div\", null, React.createElement(\"div\", {\n    className: classes.indexContainer\n  }, React.createElement(Typography, {\n    variant: \"body1\",\n    className: classes.index\n  }, getItemLabel(index)), !disabled && !disableReordering && cloneElement(reOrderButtons, {\n    index: index,\n    max: total,\n    reOrder: reOrder,\n    className: classNames('button-reorder', \"button-reorder-\" + source + \"-\" + index)\n  }))), React.createElement(\"section\", {\n    className: classes.form\n  }, Children.map(children, function (input, index2) {\n    if (!isValidElement(input)) {\n      return null;\n    }\n    var _a = input.props,\n      source = _a.source,\n      inputProps = __rest(_a, [\"source\"]);\n    return React.createElement(FormInput, {\n      basePath: input.props.basePath || basePath,\n      input: cloneElement(input, __assign({\n        source: source ? member + \".\" + source : member,\n        index: source ? undefined : index2,\n        label: typeof input.props.label === 'undefined' ? source ? \"resources.\" + resource + \".fields.\" + source : undefined : input.props.label,\n        disabled: disabled\n      }, inputProps)),\n      record: record,\n      resource: resource,\n      variant: variant,\n      margin: margin\n    });\n  })), !disabled && !disableRemoveField(record) && React.createElement(\"span\", {\n    className: classes.action\n  }, cloneElement(removeButton, {\n    onClick: handleRemoveButtonClick(removeButton.props.onClick, index),\n    className: classNames('button-remove', \"button-remove-\" + source + \"-\" + index)\n  }))));\n});","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","Children","cloneElement","isValidElement","useMemo","Typography","classNames","FormInput","useSimpleFormIterator","SimpleFormIteratorItemContext","SimpleFormIteratorItem","forwardRef","props","ref","basePath","children","classes","disabled","disableReordering","disableRemove","getItemLabel","index","margin","member","record","removeButton","reOrderButtons","resource","source","variant","_a","total","reOrder","remove","disableRemoveField","handleRemoveButtonClick","originalOnClickHandler","event","context","newIndex","createElement","Provider","value","className","line","indexContainer","max","form","map","input","index2","inputProps","undefined","label","action","onClick"],"sources":["/node_modules/ra-ui-materialui/esm/input/ArrayInput/SimpleFormIteratorItem.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useMemo, } from 'react';\nimport { Typography } from '@material-ui/core';\nimport classNames from 'classnames';\nimport FormInput from '../../form/FormInput';\nimport { useSimpleFormIterator } from './useSimpleFormIterator';\nimport { SimpleFormIteratorItemContext, } from './SimpleFormIteratorItemContext';\nexport var SimpleFormIteratorItem = React.forwardRef(function (props, ref) {\n    var basePath = props.basePath, children = props.children, classes = props.classes, disabled = props.disabled, disableReordering = props.disableReordering, disableRemove = props.disableRemove, getItemLabel = props.getItemLabel, index = props.index, margin = props.margin, member = props.member, record = props.record, removeButton = props.removeButton, reOrderButtons = props.reOrderButtons, resource = props.resource, source = props.source, variant = props.variant;\n    var _a = useSimpleFormIterator(), total = _a.total, reOrder = _a.reOrder, remove = _a.remove;\n    // Returns a boolean to indicate whether to disable the remove button for certain fields.\n    // If disableRemove is a function, then call the function with the current record to\n    // determining if the button should be disabled. Otherwise, use a boolean property that\n    // enables or disables the button for all of the fields.\n    var disableRemoveField = function (record) {\n        if (typeof disableRemove === 'boolean') {\n            return disableRemove;\n        }\n        return disableRemove && disableRemove(record);\n    };\n    // remove field and call the onClick event of the button passed as removeButton prop\n    var handleRemoveButtonClick = function (originalOnClickHandler, index) { return function (event) {\n        remove(index);\n        if (originalOnClickHandler) {\n            originalOnClickHandler(event);\n        }\n    }; };\n    var context = useMemo(function () { return ({\n        index: index,\n        total: total,\n        reOrder: function (newIndex) { return reOrder(index, newIndex); },\n        remove: function () { return remove(index); },\n    }); }, [index, total, reOrder, remove]);\n    return (React.createElement(SimpleFormIteratorItemContext.Provider, { value: context },\n        React.createElement(\"li\", { className: classes.line, ref: ref },\n            React.createElement(\"div\", null,\n                React.createElement(\"div\", { className: classes.indexContainer },\n                    React.createElement(Typography, { variant: \"body1\", className: classes.index }, getItemLabel(index)),\n                    !disabled &&\n                        !disableReordering &&\n                        cloneElement(reOrderButtons, {\n                            index: index,\n                            max: total,\n                            reOrder: reOrder,\n                            className: classNames('button-reorder', \"button-reorder-\" + source + \"-\" + index),\n                        }))),\n            React.createElement(\"section\", { className: classes.form }, Children.map(children, function (input, index2) {\n                if (!isValidElement(input)) {\n                    return null;\n                }\n                var _a = input.props, source = _a.source, inputProps = __rest(_a, [\"source\"]);\n                return (React.createElement(FormInput, { basePath: input.props.basePath || basePath, input: cloneElement(input, __assign({ source: source\n                            ? member + \".\" + source\n                            : member, index: source ? undefined : index2, label: typeof input.props.label ===\n                            'undefined'\n                            ? source\n                                ? \"resources.\" + resource + \".fields.\" + source\n                                : undefined\n                            : input.props.label, disabled: disabled }, inputProps)), record: record, resource: resource, variant: variant, margin: margin }));\n            })),\n            !disabled && !disableRemoveField(record) && (React.createElement(\"span\", { className: classes.action }, cloneElement(removeButton, {\n                onClick: handleRemoveButtonClick(removeButton.props.onClick, index),\n                className: classNames('button-remove', \"button-remove-\" + source + \"-\" + index),\n            }))))));\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}