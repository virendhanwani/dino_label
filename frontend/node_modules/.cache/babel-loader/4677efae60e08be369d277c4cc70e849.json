{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { memo, isValidElement } from 'react';\nimport { IconButton, ListItem, ListItemText, ListItemSecondaryAction } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CancelIcon from '@material-ui/icons/CancelOutlined';\nimport { useTranslate, useListFilterContext } from 'ra-core';\nimport { shallowEqual } from 'react-redux';\nimport matches from 'lodash/matches';\nimport pickBy from 'lodash/pickBy';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    listItem: {\n      paddingLeft: '2em'\n    },\n    listItemText: {\n      margin: 0\n    }\n  };\n}, {\n  name: 'RaFilterListItem'\n});\n/**\n * Button to enable/disable a list filter.\n *\n * Expects 2 props:\n *\n * - label: The text (or React element) to be displayed for this item.\n *   If it's a string, the component will translate it.\n * - value: An object to be merged into the filter value when enabling the filter\n *   (e.g. { is_published: true, published_at_gte: '2020-07-08' })\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@material-ui/core';\n * import MailIcon from '@material-ui/icons/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * @example // The value prop can contain multiple keys\n *\n * import * as React from 'react';\n * import {\n *     endOfYesterday,\n *     startOfWeek,\n *     subWeeks,\n *     startOfMonth,\n *     subMonths,\n * } from 'date-fns';\n * import { Card, CardContent } from '@material-ui/core';\n * import AccessTimeIcon from '@material-ui/icons/AccessTime';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Last visited\"\n *                 icon={<AccessTimeIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Today\"\n *                     value={{\n *                         last_seen_gte: endOfYesterday().toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This week\"\n *                     value={{\n *                         last_seen_gte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last week\"\n *                     value={{\n *                         last_seen_gte: subWeeks(\n *                             startOfWeek(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This month\"\n *                     value={{\n *                         last_seen_gte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last month\"\n *                     value={{\n *                         last_seen_gte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Earlier\"\n *                     value={{\n *                         last_seen_gte: undefined,\n *                         last_seen_lte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                     }}\n *                 />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterListItem = function (props) {\n  var label = props.label,\n    value = props.value;\n  var _a = useListFilterContext(),\n    filterValues = _a.filterValues,\n    setFilters = _a.setFilters;\n  var translate = useTranslate();\n  var classes = useStyles(props);\n  var isSelected = matches(pickBy(value, function (val) {\n    return typeof val !== 'undefined';\n  }))(filterValues);\n  var addFilter = function () {\n    setFilters(__assign(__assign({}, filterValues), value), null, false);\n  };\n  var removeFilter = function () {\n    var keysToRemove = Object.keys(value);\n    var filters = Object.keys(filterValues).reduce(function (acc, key) {\n      var _a;\n      return keysToRemove.includes(key) ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = filterValues[key], _a));\n    }, {});\n    setFilters(filters, null, false);\n  };\n  var toggleFilter = function () {\n    return isSelected ? removeFilter() : addFilter();\n  };\n  return React.createElement(ListItem, {\n    button: true,\n    onClick: toggleFilter,\n    selected: isSelected,\n    className: classes.listItem\n  }, React.createElement(ListItemText, {\n    primary: isValidElement(label) ? label : translate(label, {\n      _: label\n    }),\n    className: classes.listItemText,\n    \"data-selected\": isSelected ? 'true' : 'false'\n  }), isSelected && React.createElement(ListItemSecondaryAction, null, React.createElement(IconButton, {\n    size: \"small\",\n    onClick: toggleFilter\n  }, React.createElement(CancelIcon, null))));\n};\nvar arePropsEqual = function (prevProps, nextProps) {\n  return prevProps.label === nextProps.label && shallowEqual(prevProps.value, nextProps.value);\n};\nexport default memo(FilterListItem, arePropsEqual);","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","memo","isValidElement","IconButton","ListItem","ListItemText","ListItemSecondaryAction","makeStyles","CancelIcon","useTranslate","useListFilterContext","shallowEqual","matches","pickBy","useStyles","theme","listItem","paddingLeft","listItemText","margin","name","FilterListItem","props","label","value","_a","filterValues","setFilters","translate","classes","isSelected","val","addFilter","removeFilter","keysToRemove","keys","filters","reduce","acc","key","includes","toggleFilter","createElement","button","onClick","selected","className","primary","_","size","arePropsEqual","prevProps","nextProps"],"sources":["/node_modules/ra-ui-materialui/esm/list/filter/FilterListItem.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { memo, isValidElement } from 'react';\nimport { IconButton, ListItem, ListItemText, ListItemSecondaryAction, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CancelIcon from '@material-ui/icons/CancelOutlined';\nimport { useTranslate, useListFilterContext } from 'ra-core';\nimport { shallowEqual } from 'react-redux';\nimport matches from 'lodash/matches';\nimport pickBy from 'lodash/pickBy';\nvar useStyles = makeStyles(function (theme) { return ({\n    listItem: {\n        paddingLeft: '2em',\n    },\n    listItemText: {\n        margin: 0,\n    },\n}); }, { name: 'RaFilterListItem' });\n/**\n * Button to enable/disable a list filter.\n *\n * Expects 2 props:\n *\n * - label: The text (or React element) to be displayed for this item.\n *   If it's a string, the component will translate it.\n * - value: An object to be merged into the filter value when enabling the filter\n *   (e.g. { is_published: true, published_at_gte: '2020-07-08' })\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@material-ui/core';\n * import MailIcon from '@material-ui/icons/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * @example // The value prop can contain multiple keys\n *\n * import * as React from 'react';\n * import {\n *     endOfYesterday,\n *     startOfWeek,\n *     subWeeks,\n *     startOfMonth,\n *     subMonths,\n * } from 'date-fns';\n * import { Card, CardContent } from '@material-ui/core';\n * import AccessTimeIcon from '@material-ui/icons/AccessTime';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Last visited\"\n *                 icon={<AccessTimeIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Today\"\n *                     value={{\n *                         last_seen_gte: endOfYesterday().toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This week\"\n *                     value={{\n *                         last_seen_gte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last week\"\n *                     value={{\n *                         last_seen_gte: subWeeks(\n *                             startOfWeek(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This month\"\n *                     value={{\n *                         last_seen_gte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last month\"\n *                     value={{\n *                         last_seen_gte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Earlier\"\n *                     value={{\n *                         last_seen_gte: undefined,\n *                         last_seen_lte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                     }}\n *                 />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterListItem = function (props) {\n    var label = props.label, value = props.value;\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isSelected = matches(pickBy(value, function (val) { return typeof val !== 'undefined'; }))(filterValues);\n    var addFilter = function () {\n        setFilters(__assign(__assign({}, filterValues), value), null, false);\n    };\n    var removeFilter = function () {\n        var keysToRemove = Object.keys(value);\n        var filters = Object.keys(filterValues).reduce(function (acc, key) {\n            var _a;\n            return keysToRemove.includes(key)\n                ? acc\n                : __assign(__assign({}, acc), (_a = {}, _a[key] = filterValues[key], _a));\n        }, {});\n        setFilters(filters, null, false);\n    };\n    var toggleFilter = function () { return (isSelected ? removeFilter() : addFilter()); };\n    return (React.createElement(ListItem, { button: true, onClick: toggleFilter, selected: isSelected, className: classes.listItem },\n        React.createElement(ListItemText, { primary: isValidElement(label)\n                ? label\n                : translate(label, { _: label }), className: classes.listItemText, \"data-selected\": isSelected ? 'true' : 'false' }),\n        isSelected && (React.createElement(ListItemSecondaryAction, null,\n            React.createElement(IconButton, { size: \"small\", onClick: toggleFilter },\n                React.createElement(CancelIcon, null))))));\n};\nvar arePropsEqual = function (prevProps, nextProps) {\n    return prevProps.label === nextProps.label &&\n        shallowEqual(prevProps.value, nextProps.value);\n};\nexport default memo(FilterListItem, arePropsEqual);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}