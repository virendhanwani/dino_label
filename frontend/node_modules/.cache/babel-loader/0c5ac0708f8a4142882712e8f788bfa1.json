{"ast":null,"code":"import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { isForwardRef } from 'react-is';\nimport computeScrollIntoView from 'compute-scroll-into-view';\n\n// istanbul ignore next\nvar statusDiv = typeof document === 'undefined' ? null : document.getElementById('a11y-status-message');\nvar statuses = [];\n/**\n * @param {String} status the status message\n */\n\nfunction setStatus(status) {\n  var isSameAsLast = statuses[statuses.length - 1] === status;\n  if (isSameAsLast) {\n    statuses = [].concat(statuses, [status]);\n  } else {\n    statuses = [status];\n  }\n  var div = getStatusDiv(); // Remove previous children\n\n  while (div.lastChild) {\n    div.removeChild(div.firstChild);\n  }\n  statuses.filter(Boolean).forEach(function (statusItem, index) {\n    div.appendChild(getStatusChildDiv(statusItem, index));\n  });\n}\n/**\n * @param {String} status the status message\n * @param {Number} index the index\n * @return {HTMLElement} the child node\n */\n\nfunction getStatusChildDiv(status, index) {\n  var display = index === statuses.length - 1 ? 'block' : 'none';\n  var childDiv = document.createElement('div');\n  childDiv.style.display = display;\n  childDiv.textContent = status;\n  return childDiv;\n}\n/**\n * Get the status node or create it if it does not already exist\n * @return {HTMLElement} the status node\n */\n\nfunction getStatusDiv() {\n  if (statusDiv) {\n    return statusDiv;\n  }\n  statusDiv = document.createElement('div');\n  statusDiv.setAttribute('id', 'a11y-status-message');\n  statusDiv.setAttribute('role', 'status');\n  statusDiv.setAttribute('aria-live', 'polite');\n  statusDiv.setAttribute('aria-relevant', 'additions text');\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px'\n  });\n  document.body.appendChild(statusDiv);\n  return statusDiv;\n}\nvar unknown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_unknown__' : 0;\nvar mouseUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_mouseup__' : 1;\nvar itemMouseEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_item_mouseenter__' : 2;\nvar keyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_up__' : 3;\nvar keyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_down__' : 4;\nvar keyDownEscape = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_escape__' : 5;\nvar keyDownEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 6;\nvar keyDownHome = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_home__' : 7;\nvar keyDownEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 8;\nvar clickItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_item__' : 9;\nvar blurInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_input__' : 10;\nvar changeInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_change_input__' : 11;\nvar keyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_space_button__' : 12;\nvar clickButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_button__' : 13;\nvar blurButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_button__' : 14;\nvar controlledPropUpdatedSelectedItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_controlled_prop_updated_selected_item__' : 15;\nvar touchEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_touchend__' : 16;\nvar stateChangeTypes = /*#__PURE__*/Object.freeze({\n  unknown: unknown,\n  mouseUp: mouseUp,\n  itemMouseEnter: itemMouseEnter,\n  keyDownArrowUp: keyDownArrowUp,\n  keyDownArrowDown: keyDownArrowDown,\n  keyDownEscape: keyDownEscape,\n  keyDownEnter: keyDownEnter,\n  keyDownHome: keyDownHome,\n  keyDownEnd: keyDownEnd,\n  clickItem: clickItem,\n  blurInput: blurInput,\n  changeInput: changeInput,\n  keyDownSpaceButton: keyDownSpaceButton,\n  clickButton: clickButton,\n  blurButton: blurButton,\n  controlledPropUpdatedSelectedItem: controlledPropUpdatedSelectedItem,\n  touchEnd: touchEnd\n});\nvar idCounter = 0;\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\n\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop;\n}\nfunction noop() {}\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\n\nfunction scrollIntoView(node, menuNode) {\n  if (node === null) {\n    return;\n  }\n  var actions = computeScrollIntoView(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed'\n  });\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n      top = _ref.top,\n      left = _ref.left;\n    el.scrollTop = top;\n    el.scrollLeft = left;\n  });\n}\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\n\nfunction isOrContainsNode(parent, child) {\n  return parent === child || parent.contains && parent.contains(child);\n}\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\n\nfunction debounce(fn, time) {\n  var timeoutId;\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n  }\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    cancel();\n    timeoutId = setTimeout(function () {\n      timeoutId = null;\n      fn.apply(void 0, args);\n    }, time);\n  }\n  wrapper.cancel = cancel;\n  return wrapper;\n}\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\n\nfunction callAllEventHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n  return function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    return fns.some(function (fn) {\n      if (fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n      return event.preventDownshiftDefault || event.hasOwnProperty('nativeEvent') && event.nativeEvent.preventDownshiftDefault;\n    });\n  };\n}\n/**\n * This return a function that will call all the given functions with\n * the arguments with which it's called. It does a null-check before\n * attempting to call the functions and can take any number of functions.\n * @param {...Function} fns the functions to call\n * @return {Function} the function that calls all the functions\n */\n\nfunction callAll() {\n  for (var _len4 = arguments.length, fns = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    fns[_key4] = arguments[_key4];\n  }\n  return function () {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    fns.forEach(function (fn) {\n      if (fn) {\n        fn.apply(void 0, args);\n      }\n    });\n  };\n}\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {String} the unique ID\n */\n\nfunction generateId() {\n  return String(idCounter++);\n}\n/**\n * Resets idCounter to 0. Used for SSR.\n */\n\nfunction resetIdCounter() {\n  idCounter = 0;\n}\n/**\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\n\nfunction getA11yStatusMessage(_ref2) {\n  var isOpen = _ref2.isOpen,\n    selectedItem = _ref2.selectedItem,\n    resultCount = _ref2.resultCount,\n    previousResultCount = _ref2.previousResultCount,\n    itemToString = _ref2.itemToString;\n  if (!isOpen) {\n    return selectedItem ? itemToString(selectedItem) : '';\n  }\n  if (!resultCount) {\n    return 'No results are available.';\n  }\n  if (resultCount !== previousResultCount) {\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n  return '';\n}\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\n\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ? /* istanbul ignore next (preact) */\n  arg[0] : arg;\n  if (!arg && defaultValue) {\n    return defaultValue;\n  } else {\n    return arg;\n  }\n}\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\n\nfunction isDOMElement(element) {\n  // then we assume this is react\n  return typeof element.type === 'string';\n}\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\n\nfunction getElementProps(element) {\n  return element.props;\n}\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\n\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(\"The property \\\"\" + propName + \"\\\" is required in \\\"\" + fnName + \"\\\"\");\n}\nvar stateKeys = ['highlightedIndex', 'inputValue', 'isOpen', 'selectedItem', 'type'];\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\n\nfunction pickState(state) {\n  if (state === void 0) {\n    state = {};\n  }\n  var result = {};\n  stateKeys.forEach(function (k) {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k];\n    }\n  });\n  return result;\n}\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\n\nfunction normalizeArrowKey(event) {\n  var key = event.key,\n    keyCode = event.keyCode;\n  /* istanbul ignore next (ie) */\n\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return \"Arrow\" + key;\n  }\n  return key;\n}\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\n\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n/**\n * Returns the new index in the list, in a circular way. If next value is out of bonds from the total,\n * it will wrap to either 0 or itemCount - 1.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @returns {number} The new index after the move.\n */\n\nfunction getNextWrappingIndex(moveAmount, baseIndex, itemCount) {\n  var itemsLastIndex = itemCount - 1;\n  if (typeof baseIndex !== 'number' || baseIndex < 0 || baseIndex >= itemCount) {\n    baseIndex = moveAmount > 0 ? -1 : itemsLastIndex + 1;\n  }\n  var newIndex = baseIndex + moveAmount;\n  if (newIndex < 0) {\n    newIndex = itemsLastIndex;\n  } else if (newIndex > itemsLastIndex) {\n    newIndex = 0;\n  }\n  return newIndex;\n}\nvar Downshift = /*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Downshift, _Component);\n  function Downshift(_props) {\n    var _this = _Component.call(this, _props) || this;\n    _this.id = _this.props.id || \"downshift-\" + generateId();\n    _this.menuId = _this.props.menuId || _this.id + \"-menu\";\n    _this.labelId = _this.props.labelId || _this.id + \"-label\";\n    _this.inputId = _this.props.inputId || _this.id + \"-input\";\n    _this.getItemId = _this.props.getItemId || function (index) {\n      return _this.id + \"-item-\" + index;\n    };\n    _this.input = null;\n    _this.items = [];\n    _this.itemCount = null;\n    _this.previousResultCount = 0;\n    _this.timeoutIds = [];\n    _this.internalSetTimeout = function (fn, time) {\n      var id = setTimeout(function () {\n        _this.timeoutIds = _this.timeoutIds.filter(function (i) {\n          return i !== id;\n        });\n        fn();\n      }, time);\n      _this.timeoutIds.push(id);\n    };\n    _this.setItemCount = function (count) {\n      _this.itemCount = count;\n    };\n    _this.unsetItemCount = function () {\n      _this.itemCount = null;\n    };\n    _this.setHighlightedIndex = function (highlightedIndex, otherStateToSet) {\n      if (highlightedIndex === void 0) {\n        highlightedIndex = _this.props.defaultHighlightedIndex;\n      }\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n      otherStateToSet = pickState(otherStateToSet);\n      _this.internalSetState(_extends({\n        highlightedIndex: highlightedIndex\n      }, otherStateToSet));\n    };\n    _this.clearSelection = function (cb) {\n      _this.internalSetState({\n        selectedItem: null,\n        inputValue: '',\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        isOpen: _this.props.defaultIsOpen\n      }, cb);\n    };\n    _this.selectItem = function (item, otherStateToSet, cb) {\n      otherStateToSet = pickState(otherStateToSet);\n      _this.internalSetState(_extends({\n        isOpen: _this.props.defaultIsOpen,\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        selectedItem: item,\n        inputValue: _this.props.itemToString(item)\n      }, otherStateToSet), cb);\n    };\n    _this.selectItemAtIndex = function (itemIndex, otherStateToSet, cb) {\n      var item = _this.items[itemIndex];\n      if (item == null) {\n        return;\n      }\n      _this.selectItem(item, otherStateToSet, cb);\n    };\n    _this.selectHighlightedItem = function (otherStateToSet, cb) {\n      return _this.selectItemAtIndex(_this.getState().highlightedIndex, otherStateToSet, cb);\n    };\n    _this.internalSetState = function (stateToSet, cb) {\n      var isItemSelected, onChangeArg;\n      var onStateChangeArg = {};\n      var isStateToSetFunction = typeof stateToSet === 'function'; // we want to call `onInputValueChange` before the `setState` call\n      // so someone controlling the `inputValue` state gets notified of\n      // the input change as soon as possible. This avoids issues with\n      // preserving the cursor position.\n      // See https://github.com/downshift-js/downshift/issues/217 for more info.\n\n      if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n        _this.props.onInputValueChange(stateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), stateToSet));\n      }\n      return _this.setState(function (state) {\n        state = _this.getState(state);\n        var newStateToSet = isStateToSetFunction ? stateToSet(state) : stateToSet; // Your own function that could modify the state that will be set.\n\n        newStateToSet = _this.props.stateReducer(state, newStateToSet); // checks if an item is selected, regardless of if it's different from\n        // what was selected before\n        // used to determine if onSelect and onChange callbacks should be called\n\n        isItemSelected = newStateToSet.hasOwnProperty('selectedItem'); // this keeps track of the object we want to call with setState\n\n        var nextState = {}; // this is just used to tell whether the state changed\n\n        var nextFullState = {}; // we need to call on change if the outside world is controlling any of our state\n        // and we're trying to update that state. OR if the selection has changed and we're\n        // trying to update the selection\n\n        if (isItemSelected && newStateToSet.selectedItem !== state.selectedItem) {\n          onChangeArg = newStateToSet.selectedItem;\n        }\n        newStateToSet.type = newStateToSet.type || unknown;\n        Object.keys(newStateToSet).forEach(function (key) {\n          // onStateChangeArg should only have the state that is\n          // actually changing\n          if (state[key] !== newStateToSet[key]) {\n            onStateChangeArg[key] = newStateToSet[key];\n          } // the type is useful for the onStateChangeArg\n          // but we don't actually want to set it in internal state.\n          // this is an undocumented feature for now... Not all internalSetState\n          // calls support it and I'm not certain we want them to yet.\n          // But it enables users controlling the isOpen state to know when\n          // the isOpen state changes due to mouseup events which is quite handy.\n\n          if (key === 'type') {\n            return;\n          }\n          nextFullState[key] = newStateToSet[key]; // if it's coming from props, then we don't care to set it internally\n\n          if (!_this.isControlledProp(key)) {\n            nextState[key] = newStateToSet[key];\n          }\n        }); // if stateToSet is a function, then we weren't able to call onInputValueChange\n        // earlier, so we'll call it now that we know what the inputValue state will be.\n\n        if (isStateToSetFunction && newStateToSet.hasOwnProperty('inputValue')) {\n          _this.props.onInputValueChange(newStateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), newStateToSet));\n        }\n        return nextState;\n      }, function () {\n        // call the provided callback if it's a function\n        cbToCb(cb)(); // only call the onStateChange and onChange callbacks if\n        // we have relevant information to pass them.\n\n        var hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1;\n        if (hasMoreStateThanType) {\n          _this.props.onStateChange(onStateChangeArg, _this.getStateAndHelpers());\n        }\n        if (isItemSelected) {\n          _this.props.onSelect(stateToSet.selectedItem, _this.getStateAndHelpers());\n        }\n        if (onChangeArg !== undefined) {\n          _this.props.onChange(onChangeArg, _this.getStateAndHelpers());\n        } // this is currently undocumented and therefore subject to change\n        // We'll try to not break it, but just be warned.\n\n        _this.props.onUserAction(onStateChangeArg, _this.getStateAndHelpers());\n      });\n    };\n    _this.rootRef = function (node) {\n      return _this._rootNode = node;\n    };\n    _this.getRootProps = function (_temp, _temp2) {\n      var _extends2;\n      var _ref = _temp === void 0 ? {} : _temp,\n        _ref$refKey = _ref.refKey,\n        refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n        rest = _objectWithoutPropertiesLoose(_ref, [\"refKey\"]);\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n        _ref2$suppressRefErro = _ref2.suppressRefError,\n        suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n\n      // this is used in the render to know whether the user has called getRootProps.\n      // It uses that to know whether to apply the props automatically\n      _this.getRootProps.called = true;\n      _this.getRootProps.refKey = refKey;\n      _this.getRootProps.suppressRefError = suppressRefError;\n      var _this$getState = _this.getState(),\n        isOpen = _this$getState.isOpen;\n      return _extends((_extends2 = {}, _extends2[refKey] = _this.rootRef, _extends2.role = 'combobox', _extends2['aria-expanded'] = isOpen, _extends2['aria-haspopup'] = 'listbox', _extends2['aria-owns'] = isOpen ? _this.menuId : null, _extends2['aria-labelledby'] = _this.labelId, _extends2), rest);\n    };\n    _this.keyDownHandlers = {\n      ArrowDown: function ArrowDown(event) {\n        var _this2 = this;\n        event.preventDefault();\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? 5 : 1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowDown\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowDown\n          }, function () {\n            var itemCount = _this2.getItemCount();\n            if (itemCount > 0) {\n              _this2.setHighlightedIndex(getNextWrappingIndex(1, _this2.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      ArrowUp: function ArrowUp(event) {\n        var _this3 = this;\n        event.preventDefault();\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? -5 : -1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowUp\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowUp\n          }, function () {\n            var itemCount = _this3.getItemCount();\n            if (itemCount > 0) {\n              _this3.setHighlightedIndex(getNextWrappingIndex(-1, _this3.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      Enter: function Enter(event) {\n        var _this$getState2 = this.getState(),\n          isOpen = _this$getState2.isOpen,\n          highlightedIndex = _this$getState2.highlightedIndex;\n        if (isOpen && highlightedIndex != null) {\n          event.preventDefault();\n          var item = this.items[highlightedIndex];\n          var itemNode = this.getItemNodeFromIndex(highlightedIndex);\n          if (item == null || itemNode && itemNode.hasAttribute('disabled')) {\n            return;\n          }\n          this.selectHighlightedItem({\n            type: keyDownEnter\n          });\n        }\n      },\n      Escape: function Escape(event) {\n        event.preventDefault();\n        this.reset({\n          type: keyDownEscape\n        });\n      }\n    };\n    _this.buttonKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      ' ': function _(event) {\n        event.preventDefault();\n        this.toggleMenu({\n          type: keyDownSpaceButton\n        });\n      }\n    });\n    _this.inputKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      Home: function Home(event) {\n        this.highlightFirstOrLastIndex(event, true, {\n          type: keyDownHome\n        });\n      },\n      End: function End(event) {\n        this.highlightFirstOrLastIndex(event, false, {\n          type: keyDownEnd\n        });\n      }\n    });\n    _this.getToggleButtonProps = function (_temp3) {\n      var _ref3 = _temp3 === void 0 ? {} : _temp3,\n        onClick = _ref3.onClick,\n        onPress = _ref3.onPress,\n        onKeyDown = _ref3.onKeyDown,\n        onKeyUp = _ref3.onKeyUp,\n        onBlur = _ref3.onBlur,\n        rest = _objectWithoutPropertiesLoose(_ref3, [\"onClick\", \"onPress\", \"onKeyDown\", \"onKeyUp\", \"onBlur\"]);\n      var _this$getState3 = _this.getState(),\n        isOpen = _this$getState3.isOpen;\n      var enabledEventHandlers = {\n        onClick: callAllEventHandlers(onClick, _this.buttonHandleClick),\n        onKeyDown: callAllEventHandlers(onKeyDown, _this.buttonHandleKeyDown),\n        onKeyUp: callAllEventHandlers(onKeyUp, _this.buttonHandleKeyUp),\n        onBlur: callAllEventHandlers(onBlur, _this.buttonHandleBlur)\n      };\n      var eventHandlers = rest.disabled ? {} : enabledEventHandlers;\n      return _extends({\n        type: 'button',\n        role: 'button',\n        'aria-label': isOpen ? 'close menu' : 'open menu',\n        'aria-haspopup': true,\n        'data-toggle': true\n      }, eventHandlers, rest);\n    };\n    _this.buttonHandleKeyUp = function (event) {\n      // Prevent click event from emitting in Firefox\n      event.preventDefault();\n    };\n    _this.buttonHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n      if (_this.buttonKeyDownHandlers[key]) {\n        _this.buttonKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n    _this.buttonHandleClick = function (event) {\n      event.preventDefault(); // handle odd case for Safari and Firefox which\n      // don't give the button the focus properly.\n\n      /* istanbul ignore if (can't reasonably test this) */\n\n      if (_this.props.environment.document.activeElement === _this.props.environment.document.body) {\n        event.target.focus();\n      } // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n      // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n      // when building for production and should therefore have no impact on production code.\n\n      if (process.env.NODE_ENV === 'test') {\n        _this.toggleMenu({\n          type: clickButton\n        });\n      } else {\n        // Ensure that toggle of menu occurs after the potential blur event in iOS\n        _this.internalSetTimeout(function () {\n          return _this.toggleMenu({\n            type: clickButton\n          });\n        });\n      }\n    };\n    _this.buttonHandleBlur = function (event) {\n      var blurTarget = event.target; // Save blur target for comparison with activeElement later\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n\n      _this.internalSetTimeout(function () {\n        if (!_this.isMouseDown && (_this.props.environment.document.activeElement == null || _this.props.environment.document.activeElement.id !== _this.inputId) && _this.props.environment.document.activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n        ) {\n          _this.reset({\n            type: blurButton\n          });\n        }\n      });\n    };\n    _this.getLabelProps = function (props) {\n      return _extends({\n        htmlFor: _this.inputId,\n        id: _this.labelId\n      }, props);\n    };\n    _this.getInputProps = function (_temp4) {\n      var _ref4 = _temp4 === void 0 ? {} : _temp4,\n        onKeyDown = _ref4.onKeyDown,\n        onBlur = _ref4.onBlur,\n        onChange = _ref4.onChange,\n        onInput = _ref4.onInput,\n        onChangeText = _ref4.onChangeText,\n        rest = _objectWithoutPropertiesLoose(_ref4, [\"onKeyDown\", \"onBlur\", \"onChange\", \"onInput\", \"onChangeText\"]);\n      var onChangeKey;\n      var eventHandlers = {};\n      /* istanbul ignore next (preact) */\n\n      onChangeKey = 'onChange';\n      var _this$getState4 = _this.getState(),\n        inputValue = _this$getState4.inputValue,\n        isOpen = _this$getState4.isOpen,\n        highlightedIndex = _this$getState4.highlightedIndex;\n      if (!rest.disabled) {\n        var _eventHandlers;\n        eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, _this.inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, _this.inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, _this.inputHandleBlur), _eventHandlers);\n      }\n      /* istanbul ignore if (react-native) */\n\n      return _extends({\n        'aria-autocomplete': 'list',\n        'aria-activedescendant': isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0 ? _this.getItemId(highlightedIndex) : null,\n        'aria-controls': isOpen ? _this.menuId : null,\n        'aria-labelledby': _this.labelId,\n        // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n        // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n        autoComplete: 'off',\n        value: inputValue,\n        id: _this.inputId\n      }, eventHandlers, rest);\n    };\n    _this.inputHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n      if (key && _this.inputKeyDownHandlers[key]) {\n        _this.inputKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n    _this.inputHandleChange = function (event) {\n      _this.internalSetState({\n        type: changeInput,\n        isOpen: true,\n        inputValue: event.target.value,\n        highlightedIndex: _this.props.defaultHighlightedIndex\n      });\n    };\n    _this.inputHandleTextChange\n    /* istanbul ignore next (react-native) */ = function (text) {\n      _this.internalSetState({\n        type: changeInput,\n        isOpen: true,\n        inputValue: text,\n        highlightedIndex: _this.props.defaultHighlightedIndex\n      });\n    };\n    _this.inputHandleBlur = function () {\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n      _this.internalSetTimeout(function () {\n        var downshiftButtonIsActive = _this.props.environment.document && !!_this.props.environment.document.activeElement && !!_this.props.environment.document.activeElement.dataset && _this.props.environment.document.activeElement.dataset.toggle && _this._rootNode && _this._rootNode.contains(_this.props.environment.document.activeElement);\n        if (!_this.isMouseDown && !downshiftButtonIsActive) {\n          _this.reset({\n            type: blurInput\n          });\n        }\n      });\n    };\n    _this.menuRef = function (node) {\n      _this._menuNode = node;\n    };\n    _this.getMenuProps = function (_temp5, _temp6) {\n      var _extends3;\n      var _ref5 = _temp5 === void 0 ? {} : _temp5,\n        _ref5$refKey = _ref5.refKey,\n        refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n        ref = _ref5.ref,\n        props = _objectWithoutPropertiesLoose(_ref5, [\"refKey\", \"ref\"]);\n      var _ref6 = _temp6 === void 0 ? {} : _temp6,\n        _ref6$suppressRefErro = _ref6.suppressRefError,\n        suppressRefError = _ref6$suppressRefErro === void 0 ? false : _ref6$suppressRefErro;\n      _this.getMenuProps.called = true;\n      _this.getMenuProps.refKey = refKey;\n      _this.getMenuProps.suppressRefError = suppressRefError;\n      return _extends((_extends3 = {}, _extends3[refKey] = callAll(ref, _this.menuRef), _extends3.role = 'listbox', _extends3['aria-labelledby'] = props && props['aria-label'] ? null : _this.labelId, _extends3.id = _this.menuId, _extends3), props);\n    };\n    _this.getItemProps = function (_temp7) {\n      var _enabledEventHandlers;\n      var _ref7 = _temp7 === void 0 ? {} : _temp7,\n        onMouseMove = _ref7.onMouseMove,\n        onMouseDown = _ref7.onMouseDown,\n        onClick = _ref7.onClick,\n        onPress = _ref7.onPress,\n        index = _ref7.index,\n        _ref7$item = _ref7.item,\n        item = _ref7$item === void 0 ? process.env.NODE_ENV === 'production' ? /* istanbul ignore next */\n        undefined : requiredProp('getItemProps', 'item') : _ref7$item,\n        rest = _objectWithoutPropertiesLoose(_ref7, [\"onMouseMove\", \"onMouseDown\", \"onClick\", \"onPress\", \"index\", \"item\"]);\n      if (index === undefined) {\n        _this.items.push(item);\n        index = _this.items.indexOf(item);\n      } else {\n        _this.items[index] = item;\n      }\n      var onSelectKey = 'onClick';\n      var customClickHandler = onClick;\n      var enabledEventHandlers = (_enabledEventHandlers = {\n        // onMouseMove is used over onMouseEnter here. onMouseMove\n        // is only triggered on actual mouse movement while onMouseEnter\n        // can fire on DOM changes, interrupting keyboard navigation\n        onMouseMove: callAllEventHandlers(onMouseMove, function () {\n          if (index === _this.getState().highlightedIndex) {\n            return;\n          }\n          _this.setHighlightedIndex(index, {\n            type: itemMouseEnter\n          }); // We never want to manually scroll when changing state based\n          // on `onMouseMove` because we will be moving the element out\n          // from under the user which is currently scrolling/moving the\n          // cursor\n\n          _this.avoidScrolling = true;\n          _this.internalSetTimeout(function () {\n            return _this.avoidScrolling = false;\n          }, 250);\n        }),\n        onMouseDown: callAllEventHandlers(onMouseDown, function (event) {\n          // This prevents the activeElement from being changed\n          // to the item so it can remain with the current activeElement\n          // which is a more common use case.\n          event.preventDefault();\n        })\n      }, _enabledEventHandlers[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n        _this.selectItemAtIndex(index, {\n          type: clickItem\n        });\n      }), _enabledEventHandlers); // Passing down the onMouseDown handler to prevent redirect\n      // of the activeElement if clicking on disabled items\n\n      var eventHandlers = rest.disabled ? {\n        onMouseDown: enabledEventHandlers.onMouseDown\n      } : enabledEventHandlers;\n      return _extends({\n        id: _this.getItemId(index),\n        role: 'option',\n        'aria-selected': _this.getState().highlightedIndex === index\n      }, eventHandlers, rest);\n    };\n    _this.clearItems = function () {\n      _this.items = [];\n    };\n    _this.reset = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n      otherStateToSet = pickState(otherStateToSet);\n      _this.internalSetState(function (_ref8) {\n        var selectedItem = _ref8.selectedItem;\n        return _extends({\n          isOpen: _this.props.defaultIsOpen,\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          inputValue: _this.props.itemToString(selectedItem)\n        }, otherStateToSet);\n      }, cb);\n    };\n    _this.toggleMenu = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n      otherStateToSet = pickState(otherStateToSet);\n      _this.internalSetState(function (_ref9) {\n        var isOpen = _ref9.isOpen;\n        return _extends({\n          isOpen: !isOpen\n        }, isOpen && {\n          highlightedIndex: _this.props.defaultHighlightedIndex\n        }, otherStateToSet);\n      }, function () {\n        var _this$getState5 = _this.getState(),\n          isOpen = _this$getState5.isOpen,\n          highlightedIndex = _this$getState5.highlightedIndex;\n        if (isOpen) {\n          if (_this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n            _this.setHighlightedIndex(highlightedIndex, otherStateToSet);\n          }\n        }\n        cbToCb(cb)();\n      });\n    };\n    _this.openMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: true\n      }, cb);\n    };\n    _this.closeMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: false\n      }, cb);\n    };\n    _this.updateStatus = debounce(function () {\n      var state = _this.getState();\n      var item = _this.items[state.highlightedIndex];\n      var resultCount = _this.getItemCount();\n      var status = _this.props.getA11yStatusMessage(_extends({\n        itemToString: _this.props.itemToString,\n        previousResultCount: _this.previousResultCount,\n        resultCount: resultCount,\n        highlightedItem: item\n      }, state));\n      _this.previousResultCount = resultCount;\n      setStatus(status);\n    }, 200);\n\n    // fancy destructuring + defaults + aliases\n    // this basically says each value of state should either be set to\n    // the initial value or the default value if the initial value is not provided\n    var _this$props = _this.props,\n      defaultHighlightedIndex = _this$props.defaultHighlightedIndex,\n      _this$props$initialHi = _this$props.initialHighlightedIndex,\n      _highlightedIndex = _this$props$initialHi === void 0 ? defaultHighlightedIndex : _this$props$initialHi,\n      defaultIsOpen = _this$props.defaultIsOpen,\n      _this$props$initialIs = _this$props.initialIsOpen,\n      _isOpen = _this$props$initialIs === void 0 ? defaultIsOpen : _this$props$initialIs,\n      _this$props$initialIn = _this$props.initialInputValue,\n      _inputValue = _this$props$initialIn === void 0 ? '' : _this$props$initialIn,\n      _this$props$initialSe = _this$props.initialSelectedItem,\n      _selectedItem = _this$props$initialSe === void 0 ? null : _this$props$initialSe;\n    var _state = _this.getState({\n      highlightedIndex: _highlightedIndex,\n      isOpen: _isOpen,\n      inputValue: _inputValue,\n      selectedItem: _selectedItem\n    });\n    if (_state.selectedItem != null && _this.props.initialInputValue === undefined) {\n      _state.inputValue = _this.props.itemToString(_state.selectedItem);\n    }\n    _this.state = _state;\n    return _this;\n  }\n  var _proto = Downshift.prototype;\n\n  /**\n   * Clear all running timeouts\n   */\n  _proto.internalClearTimeouts = function internalClearTimeouts() {\n    this.timeoutIds.forEach(function (id) {\n      clearTimeout(id);\n    });\n    this.timeoutIds = [];\n  }\n  /**\n   * Gets the state based on internal state or props\n   * If a state value is passed via props, then that\n   * is the value given, otherwise it's retrieved from\n   * stateToMerge\n   *\n   * This will perform a shallow merge of the given state object\n   * with the state coming from props\n   * (for the controlled component scenario)\n   * This is used in state updater functions so they're referencing\n   * the right state regardless of where it comes from.\n   *\n   * @param {Object} stateToMerge defaults to this.state\n   * @return {Object} the state\n   */;\n\n  _proto.getState = function getState(stateToMerge) {\n    var _this4 = this;\n    if (stateToMerge === void 0) {\n      stateToMerge = this.state;\n    }\n    return Object.keys(stateToMerge).reduce(function (state, key) {\n      state[key] = _this4.isControlledProp(key) ? _this4.props[key] : stateToMerge[key];\n      return state;\n    }, {});\n  }\n  /**\n   * This determines whether a prop is a \"controlled prop\" meaning it is\n   * state which is controlled by the outside of this component rather\n   * than within this component.\n   * @param {String} key the key to check\n   * @return {Boolean} whether it is a controlled controlled prop\n   */;\n\n  _proto.isControlledProp = function isControlledProp(key) {\n    return this.props[key] !== undefined;\n  };\n  _proto.getItemCount = function getItemCount() {\n    // things read better this way. They're in priority order:\n    // 1. `this.itemCount`\n    // 2. `this.props.itemCount`\n    // 3. `this.items.length`\n    var itemCount = this.items.length;\n    if (this.itemCount != null) {\n      itemCount = this.itemCount;\n    } else if (this.props.itemCount !== undefined) {\n      itemCount = this.props.itemCount;\n    }\n    return itemCount;\n  };\n  _proto.getItemNodeFromIndex = function getItemNodeFromIndex(index) {\n    return this.props.environment.document.getElementById(this.getItemId(index));\n  };\n  _proto.scrollHighlightedItemIntoView = function scrollHighlightedItemIntoView() {\n    /* istanbul ignore else (react-native) */\n    {\n      var node = this.getItemNodeFromIndex(this.getState().highlightedIndex);\n      this.props.scrollIntoView(node, this._menuNode);\n    }\n  };\n  _proto.moveHighlightedIndex = function moveHighlightedIndex(amount, otherStateToSet) {\n    var itemCount = this.getItemCount();\n    if (itemCount > 0) {\n      var nextHighlightedIndex = getNextWrappingIndex(amount, this.getState().highlightedIndex, itemCount);\n      this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet);\n    }\n  };\n  _proto.highlightFirstOrLastIndex = function highlightFirstOrLastIndex(event, first, otherStateToSet) {\n    var itemsLastIndex = this.getItemCount() - 1;\n    if (itemsLastIndex < 0 || !this.getState().isOpen) {\n      return;\n    }\n    event.preventDefault();\n    this.setHighlightedIndex(first ? 0 : itemsLastIndex, otherStateToSet);\n  };\n  _proto.getStateAndHelpers = function getStateAndHelpers() {\n    var _this$getState6 = this.getState(),\n      highlightedIndex = _this$getState6.highlightedIndex,\n      inputValue = _this$getState6.inputValue,\n      selectedItem = _this$getState6.selectedItem,\n      isOpen = _this$getState6.isOpen;\n    var itemToString = this.props.itemToString;\n    var id = this.id;\n    var getRootProps = this.getRootProps,\n      getToggleButtonProps = this.getToggleButtonProps,\n      getLabelProps = this.getLabelProps,\n      getMenuProps = this.getMenuProps,\n      getInputProps = this.getInputProps,\n      getItemProps = this.getItemProps,\n      openMenu = this.openMenu,\n      closeMenu = this.closeMenu,\n      toggleMenu = this.toggleMenu,\n      selectItem = this.selectItem,\n      selectItemAtIndex = this.selectItemAtIndex,\n      selectHighlightedItem = this.selectHighlightedItem,\n      setHighlightedIndex = this.setHighlightedIndex,\n      clearSelection = this.clearSelection,\n      clearItems = this.clearItems,\n      reset = this.reset,\n      setItemCount = this.setItemCount,\n      unsetItemCount = this.unsetItemCount,\n      setState = this.internalSetState;\n    return {\n      // prop getters\n      getRootProps: getRootProps,\n      getToggleButtonProps: getToggleButtonProps,\n      getLabelProps: getLabelProps,\n      getMenuProps: getMenuProps,\n      getInputProps: getInputProps,\n      getItemProps: getItemProps,\n      // actions\n      reset: reset,\n      openMenu: openMenu,\n      closeMenu: closeMenu,\n      toggleMenu: toggleMenu,\n      selectItem: selectItem,\n      selectItemAtIndex: selectItemAtIndex,\n      selectHighlightedItem: selectHighlightedItem,\n      setHighlightedIndex: setHighlightedIndex,\n      clearSelection: clearSelection,\n      clearItems: clearItems,\n      setItemCount: setItemCount,\n      unsetItemCount: unsetItemCount,\n      setState: setState,\n      // props\n      itemToString: itemToString,\n      // derived\n      id: id,\n      // state\n      highlightedIndex: highlightedIndex,\n      inputValue: inputValue,\n      isOpen: isOpen,\n      selectedItem: selectedItem\n    };\n  } //////////////////////////// ROOT\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this5 = this;\n\n    /* istanbul ignore if (react-native) */\n    if (process.env.NODE_ENV !== 'production' && !false && this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n      validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n    }\n    /* istanbul ignore if (react-native) */\n\n    {\n      var targetWithinDownshift = function (target, checkActiveElement) {\n        if (checkActiveElement === void 0) {\n          checkActiveElement = true;\n        }\n        var document = _this5.props.environment.document;\n        return [_this5._rootNode, _this5._menuNode].some(function (contextNode) {\n          return contextNode && (isOrContainsNode(contextNode, target) || checkActiveElement && isOrContainsNode(contextNode, document.activeElement));\n        });\n      }; // this.isMouseDown helps us track whether the mouse is currently held down.\n      // This is useful when the user clicks on an item in the list, but holds the mouse\n      // down long enough for the list to disappear (because the blur event fires on the input)\n      // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n      // trigger hiding the menu.\n\n      var onMouseDown = function () {\n        _this5.isMouseDown = true;\n      };\n      var onMouseUp = function (event) {\n        _this5.isMouseDown = false; // if the target element or the activeElement is within a downshift node\n        // then we don't want to reset downshift\n\n        var contextWithinDownshift = targetWithinDownshift(event.target);\n        if (!contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: mouseUp\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      }; // Touching an element in iOS gives focus and hover states, but touching out of\n      // the element will remove hover, and persist the focus state, resulting in the\n      // blur event not being triggered.\n      // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n      // If the user taps outside of Downshift, the component should be reset,\n      // but not if the user is swiping\n\n      var onTouchStart = function () {\n        _this5.isTouchMove = false;\n      };\n      var onTouchMove = function () {\n        _this5.isTouchMove = true;\n      };\n      var onTouchEnd = function (event) {\n        var contextWithinDownshift = targetWithinDownshift(event.target, false);\n        if (!_this5.isTouchMove && !contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: touchEnd\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      };\n      this.props.environment.addEventListener('mousedown', onMouseDown);\n      this.props.environment.addEventListener('mouseup', onMouseUp);\n      this.props.environment.addEventListener('touchstart', onTouchStart);\n      this.props.environment.addEventListener('touchmove', onTouchMove);\n      this.props.environment.addEventListener('touchend', onTouchEnd);\n      this.cleanup = function () {\n        _this5.internalClearTimeouts();\n        _this5.updateStatus.cancel();\n        _this5.props.environment.removeEventListener('mousedown', onMouseDown);\n        _this5.props.environment.removeEventListener('mouseup', onMouseUp);\n        _this5.props.environment.removeEventListener('touchstart', onTouchStart);\n        _this5.props.environment.removeEventListener('touchmove', onTouchMove);\n        _this5.props.environment.removeEventListener('touchend', onTouchEnd);\n      };\n    }\n  };\n  _proto.shouldScroll = function shouldScroll(prevState, prevProps) {\n    var _ref10 = this.props.highlightedIndex === undefined ? this.getState() : this.props,\n      currentHighlightedIndex = _ref10.highlightedIndex;\n    var _ref11 = prevProps.highlightedIndex === undefined ? prevState : prevProps,\n      prevHighlightedIndex = _ref11.highlightedIndex;\n    var scrollWhenOpen = currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen;\n    return scrollWhenOpen || currentHighlightedIndex !== prevHighlightedIndex;\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateControlledUnchanged(prevProps, this.props);\n      /* istanbul ignore if (react-native) */\n\n      if (this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n      }\n    }\n    if (this.isControlledProp('selectedItem') && this.props.selectedItemChanged(prevProps.selectedItem, this.props.selectedItem)) {\n      this.internalSetState({\n        type: controlledPropUpdatedSelectedItem,\n        inputValue: this.props.itemToString(this.props.selectedItem)\n      });\n    }\n    if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n      this.scrollHighlightedItemIntoView();\n    }\n    /* istanbul ignore else (react-native) */\n\n    this.updateStatus();\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cleanup(); // avoids memory leak\n  };\n\n  _proto.render = function render() {\n    var children = unwrapArray(this.props.children, noop); // because the items are rerendered every time we call the children\n    // we clear this out each render and it will be populated again as\n    // getItemProps is called.\n\n    this.clearItems(); // we reset this so we know whether the user calls getRootProps during\n    // this render. If they do then we don't need to do anything,\n    // if they don't then we need to clone the element they return and\n    // apply the props for them.\n\n    this.getRootProps.called = false;\n    this.getRootProps.refKey = undefined;\n    this.getRootProps.suppressRefError = undefined; // we do something similar for getMenuProps\n\n    this.getMenuProps.called = false;\n    this.getMenuProps.refKey = undefined;\n    this.getMenuProps.suppressRefError = undefined; // we do something similar for getLabelProps\n\n    this.getLabelProps.called = false; // and something similar for getInputProps\n\n    this.getInputProps.called = false;\n    var element = unwrapArray(children(this.getStateAndHelpers()));\n    if (!element) {\n      return null;\n    }\n    if (this.getRootProps.called || this.props.suppressRefError) {\n      if (process.env.NODE_ENV !== 'production' && !this.getRootProps.suppressRefError && !this.props.suppressRefError) {\n        validateGetRootPropsCalledCorrectly(element, this.getRootProps);\n      }\n      return element;\n    } else if (isDOMElement(element)) {\n      // they didn't apply the root props, but we can clone\n      // this and apply the props ourselves\n      return React.cloneElement(element, this.getRootProps(getElementProps(element)));\n    }\n    /* istanbul ignore else */\n\n    if (process.env.NODE_ENV !== 'production') {\n      // they didn't apply the root props, but they need to\n      // otherwise we can't query around the autocomplete\n      throw new Error('downshift: If you return a non-DOM element, you must use apply the getRootProps function');\n    }\n    /* istanbul ignore next */\n\n    return undefined;\n  };\n  return Downshift;\n}(Component);\nDownshift.defaultProps = {\n  defaultHighlightedIndex: null,\n  defaultIsOpen: false,\n  getA11yStatusMessage: getA11yStatusMessage,\n  itemToString: function itemToString(i) {\n    if (i == null) {\n      return '';\n    }\n    if (process.env.NODE_ENV !== 'production' && isPlainObject(i) && !i.hasOwnProperty('toString')) {\n      // eslint-disable-next-line no-console\n      console.warn('downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.', 'The object that was passed:', i);\n    }\n    return String(i);\n  },\n  onStateChange: noop,\n  onInputValueChange: noop,\n  onUserAction: noop,\n  onChange: noop,\n  onSelect: noop,\n  onOuterClick: noop,\n  selectedItemChanged: function selectedItemChanged(prevItem, item) {\n    return prevItem !== item;\n  },\n  environment: typeof window === 'undefined'\n  /* istanbul ignore next (ssr) */ ? {} : window,\n  stateReducer: function stateReducer(state, stateToSet) {\n    return stateToSet;\n  },\n  suppressRefError: false,\n  scrollIntoView: scrollIntoView\n};\nDownshift.stateChangeTypes = stateChangeTypes;\nprocess.env.NODE_ENV !== \"production\" ? Downshift.propTypes = {\n  children: PropTypes.func,\n  defaultHighlightedIndex: PropTypes.number,\n  defaultIsOpen: PropTypes.bool,\n  initialHighlightedIndex: PropTypes.number,\n  initialSelectedItem: PropTypes.any,\n  initialInputValue: PropTypes.string,\n  initialIsOpen: PropTypes.bool,\n  getA11yStatusMessage: PropTypes.func,\n  itemToString: PropTypes.func,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  onUserAction: PropTypes.func,\n  onOuterClick: PropTypes.func,\n  selectedItemChanged: PropTypes.func,\n  stateReducer: PropTypes.func,\n  itemCount: PropTypes.number,\n  id: PropTypes.string,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  }),\n  suppressRefError: PropTypes.bool,\n  scrollIntoView: PropTypes.func,\n  // things we keep in state for uncontrolled components\n  // but can accept as props for controlled components\n\n  /* eslint-disable react/no-unused-prop-types */\n  selectedItem: PropTypes.any,\n  isOpen: PropTypes.bool,\n  inputValue: PropTypes.string,\n  highlightedIndex: PropTypes.number,\n  labelId: PropTypes.string,\n  inputId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func\n  /* eslint-enable react/no-unused-prop-types */\n} : void 0;\nfunction validateGetMenuPropsCalledCorrectly(node, _ref12) {\n  var refKey = _ref12.refKey;\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: The ref prop \\\"\" + refKey + \"\\\" from getMenuProps was not applied correctly on your menu element.\");\n  }\n}\nfunction validateGetRootPropsCalledCorrectly(element, _ref13) {\n  var refKey = _ref13.refKey;\n  var refKeySpecified = refKey !== 'ref';\n  var isComposite = !isDOMElement(element);\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error('downshift: You returned a non-DOM element. You must specify a refKey in getRootProps');\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \\\"\" + refKey + \"\\\"\");\n  }\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You must apply the ref prop \\\"\" + refKey + \"\\\" from getRootProps onto your root element.\");\n  }\n}\nfunction validateControlledUnchanged(prevProps, nextProps) {\n  var warningDescription = \"This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props\";\n  ['selectedItem', 'isOpen', 'inputValue', 'highlightedIndex'].forEach(function (propKey) {\n    if (prevProps[propKey] !== undefined && nextProps[propKey] === undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the controlled prop \\\"\" + propKey + \"\\\" to be uncontrolled. \" + warningDescription);\n    } else if (prevProps[propKey] === undefined && nextProps[propKey] !== undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the uncontrolled prop \\\"\" + propKey + \"\\\" to be controlled. \" + warningDescription);\n    }\n  });\n}\nexport default Downshift;\nexport { resetIdCounter };","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_assertThisInitialized","_inheritsLoose","PropTypes","React","Component","isForwardRef","computeScrollIntoView","statusDiv","document","getElementById","statuses","setStatus","status","isSameAsLast","length","concat","div","getStatusDiv","lastChild","removeChild","firstChild","filter","Boolean","forEach","statusItem","index","appendChild","getStatusChildDiv","display","childDiv","createElement","style","textContent","setAttribute","Object","assign","border","clip","height","margin","overflow","padding","position","width","body","unknown","process","env","NODE_ENV","mouseUp","itemMouseEnter","keyDownArrowUp","keyDownArrowDown","keyDownEscape","keyDownEnter","keyDownHome","keyDownEnd","clickItem","blurInput","changeInput","keyDownSpaceButton","clickButton","blurButton","controlledPropUpdatedSelectedItem","touchEnd","stateChangeTypes","freeze","idCounter","cbToCb","cb","noop","scrollIntoView","node","menuNode","actions","boundary","block","scrollMode","_ref","el","top","left","scrollTop","scrollLeft","isOrContainsNode","parent","child","contains","debounce","fn","time","timeoutId","cancel","clearTimeout","wrapper","_len","arguments","args","Array","_key","setTimeout","apply","callAllEventHandlers","_len2","fns","_key2","event","_len3","_key3","some","preventDownshiftDefault","hasOwnProperty","nativeEvent","callAll","_len4","_key4","_len5","_key5","generateId","String","resetIdCounter","getA11yStatusMessage","_ref2","isOpen","selectedItem","resultCount","previousResultCount","itemToString","unwrapArray","arg","defaultValue","isArray","isDOMElement","element","type","getElementProps","props","requiredProp","fnName","propName","console","error","stateKeys","pickState","state","result","k","normalizeArrowKey","key","keyCode","indexOf","isPlainObject","obj","prototype","toString","call","getNextWrappingIndex","moveAmount","baseIndex","itemCount","itemsLastIndex","newIndex","Downshift","_Component","_props","_this","id","menuId","labelId","inputId","getItemId","input","items","timeoutIds","internalSetTimeout","i","push","setItemCount","count","unsetItemCount","setHighlightedIndex","highlightedIndex","otherStateToSet","defaultHighlightedIndex","internalSetState","clearSelection","inputValue","defaultIsOpen","selectItem","item","selectItemAtIndex","itemIndex","selectHighlightedItem","getState","stateToSet","isItemSelected","onChangeArg","onStateChangeArg","isStateToSetFunction","onInputValueChange","getStateAndHelpers","setState","newStateToSet","stateReducer","nextState","nextFullState","keys","isControlledProp","hasMoreStateThanType","onStateChange","onSelect","undefined","onChange","onUserAction","rootRef","_rootNode","getRootProps","_temp","_temp2","_extends2","_ref$refKey","refKey","rest","_ref2$suppressRefErro","suppressRefError","called","_this$getState","role","keyDownHandlers","ArrowDown","_this2","preventDefault","amount","shiftKey","moveHighlightedIndex","getItemCount","ArrowUp","_this3","Enter","_this$getState2","itemNode","getItemNodeFromIndex","hasAttribute","Escape","reset","buttonKeyDownHandlers","_","toggleMenu","inputKeyDownHandlers","Home","highlightFirstOrLastIndex","End","getToggleButtonProps","_temp3","_ref3","onClick","onPress","onKeyDown","onKeyUp","onBlur","_this$getState3","enabledEventHandlers","buttonHandleClick","buttonHandleKeyDown","buttonHandleKeyUp","buttonHandleBlur","eventHandlers","disabled","environment","activeElement","target","focus","blurTarget","isMouseDown","getLabelProps","htmlFor","getInputProps","_temp4","_ref4","onInput","onChangeText","onChangeKey","_this$getState4","_eventHandlers","inputHandleChange","inputHandleKeyDown","inputHandleBlur","autoComplete","value","inputHandleTextChange","text","downshiftButtonIsActive","dataset","toggle","menuRef","_menuNode","getMenuProps","_temp5","_temp6","_extends3","_ref5","_ref5$refKey","ref","_ref6","_ref6$suppressRefErro","getItemProps","_temp7","_enabledEventHandlers","_ref7","onMouseMove","onMouseDown","_ref7$item","onSelectKey","customClickHandler","avoidScrolling","clearItems","_ref8","_ref9","_this$getState5","openMenu","closeMenu","updateStatus","highlightedItem","_this$props","_this$props$initialHi","initialHighlightedIndex","_highlightedIndex","_this$props$initialIs","initialIsOpen","_isOpen","_this$props$initialIn","initialInputValue","_inputValue","_this$props$initialSe","initialSelectedItem","_selectedItem","_state","_proto","internalClearTimeouts","stateToMerge","_this4","reduce","scrollHighlightedItemIntoView","nextHighlightedIndex","first","_this$getState6","componentDidMount","_this5","validateGetMenuPropsCalledCorrectly","targetWithinDownshift","checkActiveElement","contextNode","onMouseUp","contextWithinDownshift","onOuterClick","onTouchStart","isTouchMove","onTouchMove","onTouchEnd","addEventListener","cleanup","removeEventListener","shouldScroll","prevState","prevProps","_ref10","currentHighlightedIndex","_ref11","prevHighlightedIndex","scrollWhenOpen","componentDidUpdate","validateControlledUnchanged","selectedItemChanged","componentWillUnmount","render","children","validateGetRootPropsCalledCorrectly","cloneElement","Error","defaultProps","warn","prevItem","window","propTypes","func","number","bool","any","string","shape","_ref12","_ref13","refKeySpecified","isComposite","nextProps","warningDescription","propKey"],"sources":["/node_modules/downshift/dist/downshift.esm.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { isForwardRef } from 'react-is';\nimport computeScrollIntoView from 'compute-scroll-into-view';\n\n// istanbul ignore next\nvar statusDiv = typeof document === 'undefined' ? null : document.getElementById('a11y-status-message');\nvar statuses = [];\n/**\n * @param {String} status the status message\n */\n\nfunction setStatus(status) {\n  var isSameAsLast = statuses[statuses.length - 1] === status;\n\n  if (isSameAsLast) {\n    statuses = [].concat(statuses, [status]);\n  } else {\n    statuses = [status];\n  }\n\n  var div = getStatusDiv(); // Remove previous children\n\n  while (div.lastChild) {\n    div.removeChild(div.firstChild);\n  }\n\n  statuses.filter(Boolean).forEach(function (statusItem, index) {\n    div.appendChild(getStatusChildDiv(statusItem, index));\n  });\n}\n/**\n * @param {String} status the status message\n * @param {Number} index the index\n * @return {HTMLElement} the child node\n */\n\n\nfunction getStatusChildDiv(status, index) {\n  var display = index === statuses.length - 1 ? 'block' : 'none';\n  var childDiv = document.createElement('div');\n  childDiv.style.display = display;\n  childDiv.textContent = status;\n  return childDiv;\n}\n/**\n * Get the status node or create it if it does not already exist\n * @return {HTMLElement} the status node\n */\n\n\nfunction getStatusDiv() {\n  if (statusDiv) {\n    return statusDiv;\n  }\n\n  statusDiv = document.createElement('div');\n  statusDiv.setAttribute('id', 'a11y-status-message');\n  statusDiv.setAttribute('role', 'status');\n  statusDiv.setAttribute('aria-live', 'polite');\n  statusDiv.setAttribute('aria-relevant', 'additions text');\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px'\n  });\n  document.body.appendChild(statusDiv);\n  return statusDiv;\n}\n\nvar unknown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_unknown__' : 0;\nvar mouseUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_mouseup__' : 1;\nvar itemMouseEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_item_mouseenter__' : 2;\nvar keyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_up__' : 3;\nvar keyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_down__' : 4;\nvar keyDownEscape = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_escape__' : 5;\nvar keyDownEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 6;\nvar keyDownHome = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_home__' : 7;\nvar keyDownEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 8;\nvar clickItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_item__' : 9;\nvar blurInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_input__' : 10;\nvar changeInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_change_input__' : 11;\nvar keyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_space_button__' : 12;\nvar clickButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_button__' : 13;\nvar blurButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_button__' : 14;\nvar controlledPropUpdatedSelectedItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_controlled_prop_updated_selected_item__' : 15;\nvar touchEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_touchend__' : 16;\n\nvar stateChangeTypes = /*#__PURE__*/Object.freeze({\n  unknown: unknown,\n  mouseUp: mouseUp,\n  itemMouseEnter: itemMouseEnter,\n  keyDownArrowUp: keyDownArrowUp,\n  keyDownArrowDown: keyDownArrowDown,\n  keyDownEscape: keyDownEscape,\n  keyDownEnter: keyDownEnter,\n  keyDownHome: keyDownHome,\n  keyDownEnd: keyDownEnd,\n  clickItem: clickItem,\n  blurInput: blurInput,\n  changeInput: changeInput,\n  keyDownSpaceButton: keyDownSpaceButton,\n  clickButton: clickButton,\n  blurButton: blurButton,\n  controlledPropUpdatedSelectedItem: controlledPropUpdatedSelectedItem,\n  touchEnd: touchEnd\n});\n\nvar idCounter = 0;\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\n\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop;\n}\n\nfunction noop() {}\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\n\n\nfunction scrollIntoView(node, menuNode) {\n  if (node === null) {\n    return;\n  }\n\n  var actions = computeScrollIntoView(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed'\n  });\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n    el.scrollTop = top;\n    el.scrollLeft = left;\n  });\n}\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\n\n\nfunction isOrContainsNode(parent, child) {\n  return parent === child || parent.contains && parent.contains(child);\n}\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\n\n\nfunction debounce(fn, time) {\n  var timeoutId;\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n  }\n\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    cancel();\n    timeoutId = setTimeout(function () {\n      timeoutId = null;\n      fn.apply(void 0, args);\n    }, time);\n  }\n\n  wrapper.cancel = cancel;\n  return wrapper;\n}\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\n\n\nfunction callAllEventHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return fns.some(function (fn) {\n      if (fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return event.preventDownshiftDefault || event.hasOwnProperty('nativeEvent') && event.nativeEvent.preventDownshiftDefault;\n    });\n  };\n}\n/**\n * This return a function that will call all the given functions with\n * the arguments with which it's called. It does a null-check before\n * attempting to call the functions and can take any number of functions.\n * @param {...Function} fns the functions to call\n * @return {Function} the function that calls all the functions\n */\n\n\nfunction callAll() {\n  for (var _len4 = arguments.length, fns = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    fns[_key4] = arguments[_key4];\n  }\n\n  return function () {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    fns.forEach(function (fn) {\n      if (fn) {\n        fn.apply(void 0, args);\n      }\n    });\n  };\n}\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {String} the unique ID\n */\n\n\nfunction generateId() {\n  return String(idCounter++);\n}\n/**\n * Resets idCounter to 0. Used for SSR.\n */\n\n\nfunction resetIdCounter() {\n  idCounter = 0;\n}\n/**\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\n\n\nfunction getA11yStatusMessage(_ref2) {\n  var isOpen = _ref2.isOpen,\n      selectedItem = _ref2.selectedItem,\n      resultCount = _ref2.resultCount,\n      previousResultCount = _ref2.previousResultCount,\n      itemToString = _ref2.itemToString;\n\n  if (!isOpen) {\n    return selectedItem ? itemToString(selectedItem) : '';\n  }\n\n  if (!resultCount) {\n    return 'No results are available.';\n  }\n\n  if (resultCount !== previousResultCount) {\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\n\n\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ?\n  /* istanbul ignore next (preact) */\n  arg[0] : arg;\n\n  if (!arg && defaultValue) {\n    return defaultValue;\n  } else {\n    return arg;\n  }\n}\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\n\n\nfunction isDOMElement(element) {\n  // then we assume this is react\n  return typeof element.type === 'string';\n}\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\n\n\nfunction getElementProps(element) {\n  return element.props;\n}\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\n\n\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(\"The property \\\"\" + propName + \"\\\" is required in \\\"\" + fnName + \"\\\"\");\n}\n\nvar stateKeys = ['highlightedIndex', 'inputValue', 'isOpen', 'selectedItem', 'type'];\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\n\nfunction pickState(state) {\n  if (state === void 0) {\n    state = {};\n  }\n\n  var result = {};\n  stateKeys.forEach(function (k) {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k];\n    }\n  });\n  return result;\n}\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\n\n\nfunction normalizeArrowKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  /* istanbul ignore next (ie) */\n\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return \"Arrow\" + key;\n  }\n\n  return key;\n}\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\n\n\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n/**\n * Returns the new index in the list, in a circular way. If next value is out of bonds from the total,\n * it will wrap to either 0 or itemCount - 1.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @returns {number} The new index after the move.\n */\n\n\nfunction getNextWrappingIndex(moveAmount, baseIndex, itemCount) {\n  var itemsLastIndex = itemCount - 1;\n\n  if (typeof baseIndex !== 'number' || baseIndex < 0 || baseIndex >= itemCount) {\n    baseIndex = moveAmount > 0 ? -1 : itemsLastIndex + 1;\n  }\n\n  var newIndex = baseIndex + moveAmount;\n\n  if (newIndex < 0) {\n    newIndex = itemsLastIndex;\n  } else if (newIndex > itemsLastIndex) {\n    newIndex = 0;\n  }\n\n  return newIndex;\n}\n\nvar Downshift =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Downshift, _Component);\n\n  function Downshift(_props) {\n    var _this = _Component.call(this, _props) || this;\n\n    _this.id = _this.props.id || \"downshift-\" + generateId();\n    _this.menuId = _this.props.menuId || _this.id + \"-menu\";\n    _this.labelId = _this.props.labelId || _this.id + \"-label\";\n    _this.inputId = _this.props.inputId || _this.id + \"-input\";\n\n    _this.getItemId = _this.props.getItemId || function (index) {\n      return _this.id + \"-item-\" + index;\n    };\n\n    _this.input = null;\n    _this.items = [];\n    _this.itemCount = null;\n    _this.previousResultCount = 0;\n    _this.timeoutIds = [];\n\n    _this.internalSetTimeout = function (fn, time) {\n      var id = setTimeout(function () {\n        _this.timeoutIds = _this.timeoutIds.filter(function (i) {\n          return i !== id;\n        });\n        fn();\n      }, time);\n\n      _this.timeoutIds.push(id);\n    };\n\n    _this.setItemCount = function (count) {\n      _this.itemCount = count;\n    };\n\n    _this.unsetItemCount = function () {\n      _this.itemCount = null;\n    };\n\n    _this.setHighlightedIndex = function (highlightedIndex, otherStateToSet) {\n      if (highlightedIndex === void 0) {\n        highlightedIndex = _this.props.defaultHighlightedIndex;\n      }\n\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(_extends({\n        highlightedIndex: highlightedIndex\n      }, otherStateToSet));\n    };\n\n    _this.clearSelection = function (cb) {\n      _this.internalSetState({\n        selectedItem: null,\n        inputValue: '',\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        isOpen: _this.props.defaultIsOpen\n      }, cb);\n    };\n\n    _this.selectItem = function (item, otherStateToSet, cb) {\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(_extends({\n        isOpen: _this.props.defaultIsOpen,\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        selectedItem: item,\n        inputValue: _this.props.itemToString(item)\n      }, otherStateToSet), cb);\n    };\n\n    _this.selectItemAtIndex = function (itemIndex, otherStateToSet, cb) {\n      var item = _this.items[itemIndex];\n\n      if (item == null) {\n        return;\n      }\n\n      _this.selectItem(item, otherStateToSet, cb);\n    };\n\n    _this.selectHighlightedItem = function (otherStateToSet, cb) {\n      return _this.selectItemAtIndex(_this.getState().highlightedIndex, otherStateToSet, cb);\n    };\n\n    _this.internalSetState = function (stateToSet, cb) {\n      var isItemSelected, onChangeArg;\n      var onStateChangeArg = {};\n      var isStateToSetFunction = typeof stateToSet === 'function'; // we want to call `onInputValueChange` before the `setState` call\n      // so someone controlling the `inputValue` state gets notified of\n      // the input change as soon as possible. This avoids issues with\n      // preserving the cursor position.\n      // See https://github.com/downshift-js/downshift/issues/217 for more info.\n\n      if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n        _this.props.onInputValueChange(stateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), stateToSet));\n      }\n\n      return _this.setState(function (state) {\n        state = _this.getState(state);\n        var newStateToSet = isStateToSetFunction ? stateToSet(state) : stateToSet; // Your own function that could modify the state that will be set.\n\n        newStateToSet = _this.props.stateReducer(state, newStateToSet); // checks if an item is selected, regardless of if it's different from\n        // what was selected before\n        // used to determine if onSelect and onChange callbacks should be called\n\n        isItemSelected = newStateToSet.hasOwnProperty('selectedItem'); // this keeps track of the object we want to call with setState\n\n        var nextState = {}; // this is just used to tell whether the state changed\n\n        var nextFullState = {}; // we need to call on change if the outside world is controlling any of our state\n        // and we're trying to update that state. OR if the selection has changed and we're\n        // trying to update the selection\n\n        if (isItemSelected && newStateToSet.selectedItem !== state.selectedItem) {\n          onChangeArg = newStateToSet.selectedItem;\n        }\n\n        newStateToSet.type = newStateToSet.type || unknown;\n        Object.keys(newStateToSet).forEach(function (key) {\n          // onStateChangeArg should only have the state that is\n          // actually changing\n          if (state[key] !== newStateToSet[key]) {\n            onStateChangeArg[key] = newStateToSet[key];\n          } // the type is useful for the onStateChangeArg\n          // but we don't actually want to set it in internal state.\n          // this is an undocumented feature for now... Not all internalSetState\n          // calls support it and I'm not certain we want them to yet.\n          // But it enables users controlling the isOpen state to know when\n          // the isOpen state changes due to mouseup events which is quite handy.\n\n\n          if (key === 'type') {\n            return;\n          }\n\n          nextFullState[key] = newStateToSet[key]; // if it's coming from props, then we don't care to set it internally\n\n          if (!_this.isControlledProp(key)) {\n            nextState[key] = newStateToSet[key];\n          }\n        }); // if stateToSet is a function, then we weren't able to call onInputValueChange\n        // earlier, so we'll call it now that we know what the inputValue state will be.\n\n        if (isStateToSetFunction && newStateToSet.hasOwnProperty('inputValue')) {\n          _this.props.onInputValueChange(newStateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), newStateToSet));\n        }\n\n        return nextState;\n      }, function () {\n        // call the provided callback if it's a function\n        cbToCb(cb)(); // only call the onStateChange and onChange callbacks if\n        // we have relevant information to pass them.\n\n        var hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1;\n\n        if (hasMoreStateThanType) {\n          _this.props.onStateChange(onStateChangeArg, _this.getStateAndHelpers());\n        }\n\n        if (isItemSelected) {\n          _this.props.onSelect(stateToSet.selectedItem, _this.getStateAndHelpers());\n        }\n\n        if (onChangeArg !== undefined) {\n          _this.props.onChange(onChangeArg, _this.getStateAndHelpers());\n        } // this is currently undocumented and therefore subject to change\n        // We'll try to not break it, but just be warned.\n\n\n        _this.props.onUserAction(onStateChangeArg, _this.getStateAndHelpers());\n      });\n    };\n\n    _this.rootRef = function (node) {\n      return _this._rootNode = node;\n    };\n\n    _this.getRootProps = function (_temp, _temp2) {\n      var _extends2;\n\n      var _ref = _temp === void 0 ? {} : _temp,\n          _ref$refKey = _ref.refKey,\n          refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n          rest = _objectWithoutPropertiesLoose(_ref, [\"refKey\"]);\n\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n          _ref2$suppressRefErro = _ref2.suppressRefError,\n          suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n\n      // this is used in the render to know whether the user has called getRootProps.\n      // It uses that to know whether to apply the props automatically\n      _this.getRootProps.called = true;\n      _this.getRootProps.refKey = refKey;\n      _this.getRootProps.suppressRefError = suppressRefError;\n\n      var _this$getState = _this.getState(),\n          isOpen = _this$getState.isOpen;\n\n      return _extends((_extends2 = {}, _extends2[refKey] = _this.rootRef, _extends2.role = 'combobox', _extends2['aria-expanded'] = isOpen, _extends2['aria-haspopup'] = 'listbox', _extends2['aria-owns'] = isOpen ? _this.menuId : null, _extends2['aria-labelledby'] = _this.labelId, _extends2), rest);\n    };\n\n    _this.keyDownHandlers = {\n      ArrowDown: function ArrowDown(event) {\n        var _this2 = this;\n\n        event.preventDefault();\n\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? 5 : 1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowDown\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowDown\n          }, function () {\n            var itemCount = _this2.getItemCount();\n\n            if (itemCount > 0) {\n              _this2.setHighlightedIndex(getNextWrappingIndex(1, _this2.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      ArrowUp: function ArrowUp(event) {\n        var _this3 = this;\n\n        event.preventDefault();\n\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? -5 : -1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowUp\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowUp\n          }, function () {\n            var itemCount = _this3.getItemCount();\n\n            if (itemCount > 0) {\n              _this3.setHighlightedIndex(getNextWrappingIndex(-1, _this3.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      Enter: function Enter(event) {\n        var _this$getState2 = this.getState(),\n            isOpen = _this$getState2.isOpen,\n            highlightedIndex = _this$getState2.highlightedIndex;\n\n        if (isOpen && highlightedIndex != null) {\n          event.preventDefault();\n          var item = this.items[highlightedIndex];\n          var itemNode = this.getItemNodeFromIndex(highlightedIndex);\n\n          if (item == null || itemNode && itemNode.hasAttribute('disabled')) {\n            return;\n          }\n\n          this.selectHighlightedItem({\n            type: keyDownEnter\n          });\n        }\n      },\n      Escape: function Escape(event) {\n        event.preventDefault();\n        this.reset({\n          type: keyDownEscape\n        });\n      }\n    };\n    _this.buttonKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      ' ': function _(event) {\n        event.preventDefault();\n        this.toggleMenu({\n          type: keyDownSpaceButton\n        });\n      }\n    });\n    _this.inputKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      Home: function Home(event) {\n        this.highlightFirstOrLastIndex(event, true, {\n          type: keyDownHome\n        });\n      },\n      End: function End(event) {\n        this.highlightFirstOrLastIndex(event, false, {\n          type: keyDownEnd\n        });\n      }\n    });\n\n    _this.getToggleButtonProps = function (_temp3) {\n      var _ref3 = _temp3 === void 0 ? {} : _temp3,\n          onClick = _ref3.onClick,\n          onPress = _ref3.onPress,\n          onKeyDown = _ref3.onKeyDown,\n          onKeyUp = _ref3.onKeyUp,\n          onBlur = _ref3.onBlur,\n          rest = _objectWithoutPropertiesLoose(_ref3, [\"onClick\", \"onPress\", \"onKeyDown\", \"onKeyUp\", \"onBlur\"]);\n\n      var _this$getState3 = _this.getState(),\n          isOpen = _this$getState3.isOpen;\n\n      var enabledEventHandlers = {\n        onClick: callAllEventHandlers(onClick, _this.buttonHandleClick),\n        onKeyDown: callAllEventHandlers(onKeyDown, _this.buttonHandleKeyDown),\n        onKeyUp: callAllEventHandlers(onKeyUp, _this.buttonHandleKeyUp),\n        onBlur: callAllEventHandlers(onBlur, _this.buttonHandleBlur)\n      };\n      var eventHandlers = rest.disabled ? {} : enabledEventHandlers;\n      return _extends({\n        type: 'button',\n        role: 'button',\n        'aria-label': isOpen ? 'close menu' : 'open menu',\n        'aria-haspopup': true,\n        'data-toggle': true\n      }, eventHandlers, rest);\n    };\n\n    _this.buttonHandleKeyUp = function (event) {\n      // Prevent click event from emitting in Firefox\n      event.preventDefault();\n    };\n\n    _this.buttonHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n\n      if (_this.buttonKeyDownHandlers[key]) {\n        _this.buttonKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n\n    _this.buttonHandleClick = function (event) {\n      event.preventDefault(); // handle odd case for Safari and Firefox which\n      // don't give the button the focus properly.\n\n      /* istanbul ignore if (can't reasonably test this) */\n\n      if (_this.props.environment.document.activeElement === _this.props.environment.document.body) {\n        event.target.focus();\n      } // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n      // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n      // when building for production and should therefore have no impact on production code.\n\n\n      if (process.env.NODE_ENV === 'test') {\n        _this.toggleMenu({\n          type: clickButton\n        });\n      } else {\n        // Ensure that toggle of menu occurs after the potential blur event in iOS\n        _this.internalSetTimeout(function () {\n          return _this.toggleMenu({\n            type: clickButton\n          });\n        });\n      }\n    };\n\n    _this.buttonHandleBlur = function (event) {\n      var blurTarget = event.target; // Save blur target for comparison with activeElement later\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n\n      _this.internalSetTimeout(function () {\n        if (!_this.isMouseDown && (_this.props.environment.document.activeElement == null || _this.props.environment.document.activeElement.id !== _this.inputId) && _this.props.environment.document.activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n        ) {\n            _this.reset({\n              type: blurButton\n            });\n          }\n      });\n    };\n\n    _this.getLabelProps = function (props) {\n      return _extends({\n        htmlFor: _this.inputId,\n        id: _this.labelId\n      }, props);\n    };\n\n    _this.getInputProps = function (_temp4) {\n      var _ref4 = _temp4 === void 0 ? {} : _temp4,\n          onKeyDown = _ref4.onKeyDown,\n          onBlur = _ref4.onBlur,\n          onChange = _ref4.onChange,\n          onInput = _ref4.onInput,\n          onChangeText = _ref4.onChangeText,\n          rest = _objectWithoutPropertiesLoose(_ref4, [\"onKeyDown\", \"onBlur\", \"onChange\", \"onInput\", \"onChangeText\"]);\n\n      var onChangeKey;\n      var eventHandlers = {};\n      /* istanbul ignore next (preact) */\n\n      onChangeKey = 'onChange';\n\n      var _this$getState4 = _this.getState(),\n          inputValue = _this$getState4.inputValue,\n          isOpen = _this$getState4.isOpen,\n          highlightedIndex = _this$getState4.highlightedIndex;\n\n      if (!rest.disabled) {\n        var _eventHandlers;\n\n        eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, _this.inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, _this.inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, _this.inputHandleBlur), _eventHandlers);\n      }\n      /* istanbul ignore if (react-native) */\n\n\n      return _extends({\n        'aria-autocomplete': 'list',\n        'aria-activedescendant': isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0 ? _this.getItemId(highlightedIndex) : null,\n        'aria-controls': isOpen ? _this.menuId : null,\n        'aria-labelledby': _this.labelId,\n        // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n        // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n        autoComplete: 'off',\n        value: inputValue,\n        id: _this.inputId\n      }, eventHandlers, rest);\n    };\n\n    _this.inputHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n\n      if (key && _this.inputKeyDownHandlers[key]) {\n        _this.inputKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n\n    _this.inputHandleChange = function (event) {\n      _this.internalSetState({\n        type: changeInput,\n        isOpen: true,\n        inputValue: event.target.value,\n        highlightedIndex: _this.props.defaultHighlightedIndex\n      });\n    };\n\n    _this.inputHandleTextChange\n    /* istanbul ignore next (react-native) */\n    = function (text) {\n      _this.internalSetState({\n        type: changeInput,\n        isOpen: true,\n        inputValue: text,\n        highlightedIndex: _this.props.defaultHighlightedIndex\n      });\n    };\n\n    _this.inputHandleBlur = function () {\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n      _this.internalSetTimeout(function () {\n        var downshiftButtonIsActive = _this.props.environment.document && !!_this.props.environment.document.activeElement && !!_this.props.environment.document.activeElement.dataset && _this.props.environment.document.activeElement.dataset.toggle && _this._rootNode && _this._rootNode.contains(_this.props.environment.document.activeElement);\n\n        if (!_this.isMouseDown && !downshiftButtonIsActive) {\n          _this.reset({\n            type: blurInput\n          });\n        }\n      });\n    };\n\n    _this.menuRef = function (node) {\n      _this._menuNode = node;\n    };\n\n    _this.getMenuProps = function (_temp5, _temp6) {\n      var _extends3;\n\n      var _ref5 = _temp5 === void 0 ? {} : _temp5,\n          _ref5$refKey = _ref5.refKey,\n          refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n          ref = _ref5.ref,\n          props = _objectWithoutPropertiesLoose(_ref5, [\"refKey\", \"ref\"]);\n\n      var _ref6 = _temp6 === void 0 ? {} : _temp6,\n          _ref6$suppressRefErro = _ref6.suppressRefError,\n          suppressRefError = _ref6$suppressRefErro === void 0 ? false : _ref6$suppressRefErro;\n\n      _this.getMenuProps.called = true;\n      _this.getMenuProps.refKey = refKey;\n      _this.getMenuProps.suppressRefError = suppressRefError;\n      return _extends((_extends3 = {}, _extends3[refKey] = callAll(ref, _this.menuRef), _extends3.role = 'listbox', _extends3['aria-labelledby'] = props && props['aria-label'] ? null : _this.labelId, _extends3.id = _this.menuId, _extends3), props);\n    };\n\n    _this.getItemProps = function (_temp7) {\n      var _enabledEventHandlers;\n\n      var _ref7 = _temp7 === void 0 ? {} : _temp7,\n          onMouseMove = _ref7.onMouseMove,\n          onMouseDown = _ref7.onMouseDown,\n          onClick = _ref7.onClick,\n          onPress = _ref7.onPress,\n          index = _ref7.index,\n          _ref7$item = _ref7.item,\n          item = _ref7$item === void 0 ? process.env.NODE_ENV === 'production' ?\n      /* istanbul ignore next */\n      undefined : requiredProp('getItemProps', 'item') : _ref7$item,\n          rest = _objectWithoutPropertiesLoose(_ref7, [\"onMouseMove\", \"onMouseDown\", \"onClick\", \"onPress\", \"index\", \"item\"]);\n\n      if (index === undefined) {\n        _this.items.push(item);\n\n        index = _this.items.indexOf(item);\n      } else {\n        _this.items[index] = item;\n      }\n\n      var onSelectKey = 'onClick';\n      var customClickHandler = onClick;\n      var enabledEventHandlers = (_enabledEventHandlers = {\n        // onMouseMove is used over onMouseEnter here. onMouseMove\n        // is only triggered on actual mouse movement while onMouseEnter\n        // can fire on DOM changes, interrupting keyboard navigation\n        onMouseMove: callAllEventHandlers(onMouseMove, function () {\n          if (index === _this.getState().highlightedIndex) {\n            return;\n          }\n\n          _this.setHighlightedIndex(index, {\n            type: itemMouseEnter\n          }); // We never want to manually scroll when changing state based\n          // on `onMouseMove` because we will be moving the element out\n          // from under the user which is currently scrolling/moving the\n          // cursor\n\n\n          _this.avoidScrolling = true;\n\n          _this.internalSetTimeout(function () {\n            return _this.avoidScrolling = false;\n          }, 250);\n        }),\n        onMouseDown: callAllEventHandlers(onMouseDown, function (event) {\n          // This prevents the activeElement from being changed\n          // to the item so it can remain with the current activeElement\n          // which is a more common use case.\n          event.preventDefault();\n        })\n      }, _enabledEventHandlers[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n        _this.selectItemAtIndex(index, {\n          type: clickItem\n        });\n      }), _enabledEventHandlers); // Passing down the onMouseDown handler to prevent redirect\n      // of the activeElement if clicking on disabled items\n\n      var eventHandlers = rest.disabled ? {\n        onMouseDown: enabledEventHandlers.onMouseDown\n      } : enabledEventHandlers;\n      return _extends({\n        id: _this.getItemId(index),\n        role: 'option',\n        'aria-selected': _this.getState().highlightedIndex === index\n      }, eventHandlers, rest);\n    };\n\n    _this.clearItems = function () {\n      _this.items = [];\n    };\n\n    _this.reset = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(function (_ref8) {\n        var selectedItem = _ref8.selectedItem;\n        return _extends({\n          isOpen: _this.props.defaultIsOpen,\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          inputValue: _this.props.itemToString(selectedItem)\n        }, otherStateToSet);\n      }, cb);\n    };\n\n    _this.toggleMenu = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(function (_ref9) {\n        var isOpen = _ref9.isOpen;\n        return _extends({\n          isOpen: !isOpen\n        }, isOpen && {\n          highlightedIndex: _this.props.defaultHighlightedIndex\n        }, otherStateToSet);\n      }, function () {\n        var _this$getState5 = _this.getState(),\n            isOpen = _this$getState5.isOpen,\n            highlightedIndex = _this$getState5.highlightedIndex;\n\n        if (isOpen) {\n          if (_this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n            _this.setHighlightedIndex(highlightedIndex, otherStateToSet);\n          }\n        }\n\n        cbToCb(cb)();\n      });\n    };\n\n    _this.openMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: true\n      }, cb);\n    };\n\n    _this.closeMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: false\n      }, cb);\n    };\n\n    _this.updateStatus = debounce(function () {\n      var state = _this.getState();\n\n      var item = _this.items[state.highlightedIndex];\n\n      var resultCount = _this.getItemCount();\n\n      var status = _this.props.getA11yStatusMessage(_extends({\n        itemToString: _this.props.itemToString,\n        previousResultCount: _this.previousResultCount,\n        resultCount: resultCount,\n        highlightedItem: item\n      }, state));\n\n      _this.previousResultCount = resultCount;\n      setStatus(status);\n    }, 200);\n\n    // fancy destructuring + defaults + aliases\n    // this basically says each value of state should either be set to\n    // the initial value or the default value if the initial value is not provided\n    var _this$props = _this.props,\n        defaultHighlightedIndex = _this$props.defaultHighlightedIndex,\n        _this$props$initialHi = _this$props.initialHighlightedIndex,\n        _highlightedIndex = _this$props$initialHi === void 0 ? defaultHighlightedIndex : _this$props$initialHi,\n        defaultIsOpen = _this$props.defaultIsOpen,\n        _this$props$initialIs = _this$props.initialIsOpen,\n        _isOpen = _this$props$initialIs === void 0 ? defaultIsOpen : _this$props$initialIs,\n        _this$props$initialIn = _this$props.initialInputValue,\n        _inputValue = _this$props$initialIn === void 0 ? '' : _this$props$initialIn,\n        _this$props$initialSe = _this$props.initialSelectedItem,\n        _selectedItem = _this$props$initialSe === void 0 ? null : _this$props$initialSe;\n\n    var _state = _this.getState({\n      highlightedIndex: _highlightedIndex,\n      isOpen: _isOpen,\n      inputValue: _inputValue,\n      selectedItem: _selectedItem\n    });\n\n    if (_state.selectedItem != null && _this.props.initialInputValue === undefined) {\n      _state.inputValue = _this.props.itemToString(_state.selectedItem);\n    }\n\n    _this.state = _state;\n    return _this;\n  }\n\n  var _proto = Downshift.prototype;\n\n  /**\n   * Clear all running timeouts\n   */\n  _proto.internalClearTimeouts = function internalClearTimeouts() {\n    this.timeoutIds.forEach(function (id) {\n      clearTimeout(id);\n    });\n    this.timeoutIds = [];\n  }\n  /**\n   * Gets the state based on internal state or props\n   * If a state value is passed via props, then that\n   * is the value given, otherwise it's retrieved from\n   * stateToMerge\n   *\n   * This will perform a shallow merge of the given state object\n   * with the state coming from props\n   * (for the controlled component scenario)\n   * This is used in state updater functions so they're referencing\n   * the right state regardless of where it comes from.\n   *\n   * @param {Object} stateToMerge defaults to this.state\n   * @return {Object} the state\n   */\n  ;\n\n  _proto.getState = function getState(stateToMerge) {\n    var _this4 = this;\n\n    if (stateToMerge === void 0) {\n      stateToMerge = this.state;\n    }\n\n    return Object.keys(stateToMerge).reduce(function (state, key) {\n      state[key] = _this4.isControlledProp(key) ? _this4.props[key] : stateToMerge[key];\n      return state;\n    }, {});\n  }\n  /**\n   * This determines whether a prop is a \"controlled prop\" meaning it is\n   * state which is controlled by the outside of this component rather\n   * than within this component.\n   * @param {String} key the key to check\n   * @return {Boolean} whether it is a controlled controlled prop\n   */\n  ;\n\n  _proto.isControlledProp = function isControlledProp(key) {\n    return this.props[key] !== undefined;\n  };\n\n  _proto.getItemCount = function getItemCount() {\n    // things read better this way. They're in priority order:\n    // 1. `this.itemCount`\n    // 2. `this.props.itemCount`\n    // 3. `this.items.length`\n    var itemCount = this.items.length;\n\n    if (this.itemCount != null) {\n      itemCount = this.itemCount;\n    } else if (this.props.itemCount !== undefined) {\n      itemCount = this.props.itemCount;\n    }\n\n    return itemCount;\n  };\n\n  _proto.getItemNodeFromIndex = function getItemNodeFromIndex(index) {\n    return this.props.environment.document.getElementById(this.getItemId(index));\n  };\n\n  _proto.scrollHighlightedItemIntoView = function scrollHighlightedItemIntoView() {\n    /* istanbul ignore else (react-native) */\n    {\n      var node = this.getItemNodeFromIndex(this.getState().highlightedIndex);\n      this.props.scrollIntoView(node, this._menuNode);\n    }\n  };\n\n  _proto.moveHighlightedIndex = function moveHighlightedIndex(amount, otherStateToSet) {\n    var itemCount = this.getItemCount();\n\n    if (itemCount > 0) {\n      var nextHighlightedIndex = getNextWrappingIndex(amount, this.getState().highlightedIndex, itemCount);\n      this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet);\n    }\n  };\n\n  _proto.highlightFirstOrLastIndex = function highlightFirstOrLastIndex(event, first, otherStateToSet) {\n    var itemsLastIndex = this.getItemCount() - 1;\n\n    if (itemsLastIndex < 0 || !this.getState().isOpen) {\n      return;\n    }\n\n    event.preventDefault();\n    this.setHighlightedIndex(first ? 0 : itemsLastIndex, otherStateToSet);\n  };\n\n  _proto.getStateAndHelpers = function getStateAndHelpers() {\n    var _this$getState6 = this.getState(),\n        highlightedIndex = _this$getState6.highlightedIndex,\n        inputValue = _this$getState6.inputValue,\n        selectedItem = _this$getState6.selectedItem,\n        isOpen = _this$getState6.isOpen;\n\n    var itemToString = this.props.itemToString;\n    var id = this.id;\n    var getRootProps = this.getRootProps,\n        getToggleButtonProps = this.getToggleButtonProps,\n        getLabelProps = this.getLabelProps,\n        getMenuProps = this.getMenuProps,\n        getInputProps = this.getInputProps,\n        getItemProps = this.getItemProps,\n        openMenu = this.openMenu,\n        closeMenu = this.closeMenu,\n        toggleMenu = this.toggleMenu,\n        selectItem = this.selectItem,\n        selectItemAtIndex = this.selectItemAtIndex,\n        selectHighlightedItem = this.selectHighlightedItem,\n        setHighlightedIndex = this.setHighlightedIndex,\n        clearSelection = this.clearSelection,\n        clearItems = this.clearItems,\n        reset = this.reset,\n        setItemCount = this.setItemCount,\n        unsetItemCount = this.unsetItemCount,\n        setState = this.internalSetState;\n    return {\n      // prop getters\n      getRootProps: getRootProps,\n      getToggleButtonProps: getToggleButtonProps,\n      getLabelProps: getLabelProps,\n      getMenuProps: getMenuProps,\n      getInputProps: getInputProps,\n      getItemProps: getItemProps,\n      // actions\n      reset: reset,\n      openMenu: openMenu,\n      closeMenu: closeMenu,\n      toggleMenu: toggleMenu,\n      selectItem: selectItem,\n      selectItemAtIndex: selectItemAtIndex,\n      selectHighlightedItem: selectHighlightedItem,\n      setHighlightedIndex: setHighlightedIndex,\n      clearSelection: clearSelection,\n      clearItems: clearItems,\n      setItemCount: setItemCount,\n      unsetItemCount: unsetItemCount,\n      setState: setState,\n      // props\n      itemToString: itemToString,\n      // derived\n      id: id,\n      // state\n      highlightedIndex: highlightedIndex,\n      inputValue: inputValue,\n      isOpen: isOpen,\n      selectedItem: selectedItem\n    };\n  } //////////////////////////// ROOT\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this5 = this;\n\n    /* istanbul ignore if (react-native) */\n    if (process.env.NODE_ENV !== 'production' && !false && this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n      validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n    }\n    /* istanbul ignore if (react-native) */\n\n\n    {\n      var targetWithinDownshift = function (target, checkActiveElement) {\n        if (checkActiveElement === void 0) {\n          checkActiveElement = true;\n        }\n\n        var document = _this5.props.environment.document;\n        return [_this5._rootNode, _this5._menuNode].some(function (contextNode) {\n          return contextNode && (isOrContainsNode(contextNode, target) || checkActiveElement && isOrContainsNode(contextNode, document.activeElement));\n        });\n      }; // this.isMouseDown helps us track whether the mouse is currently held down.\n      // This is useful when the user clicks on an item in the list, but holds the mouse\n      // down long enough for the list to disappear (because the blur event fires on the input)\n      // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n      // trigger hiding the menu.\n\n\n      var onMouseDown = function () {\n        _this5.isMouseDown = true;\n      };\n\n      var onMouseUp = function (event) {\n        _this5.isMouseDown = false; // if the target element or the activeElement is within a downshift node\n        // then we don't want to reset downshift\n\n        var contextWithinDownshift = targetWithinDownshift(event.target);\n\n        if (!contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: mouseUp\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      }; // Touching an element in iOS gives focus and hover states, but touching out of\n      // the element will remove hover, and persist the focus state, resulting in the\n      // blur event not being triggered.\n      // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n      // If the user taps outside of Downshift, the component should be reset,\n      // but not if the user is swiping\n\n\n      var onTouchStart = function () {\n        _this5.isTouchMove = false;\n      };\n\n      var onTouchMove = function () {\n        _this5.isTouchMove = true;\n      };\n\n      var onTouchEnd = function (event) {\n        var contextWithinDownshift = targetWithinDownshift(event.target, false);\n\n        if (!_this5.isTouchMove && !contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: touchEnd\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      };\n\n      this.props.environment.addEventListener('mousedown', onMouseDown);\n      this.props.environment.addEventListener('mouseup', onMouseUp);\n      this.props.environment.addEventListener('touchstart', onTouchStart);\n      this.props.environment.addEventListener('touchmove', onTouchMove);\n      this.props.environment.addEventListener('touchend', onTouchEnd);\n\n      this.cleanup = function () {\n        _this5.internalClearTimeouts();\n\n        _this5.updateStatus.cancel();\n\n        _this5.props.environment.removeEventListener('mousedown', onMouseDown);\n\n        _this5.props.environment.removeEventListener('mouseup', onMouseUp);\n\n        _this5.props.environment.removeEventListener('touchstart', onTouchStart);\n\n        _this5.props.environment.removeEventListener('touchmove', onTouchMove);\n\n        _this5.props.environment.removeEventListener('touchend', onTouchEnd);\n      };\n    }\n  };\n\n  _proto.shouldScroll = function shouldScroll(prevState, prevProps) {\n    var _ref10 = this.props.highlightedIndex === undefined ? this.getState() : this.props,\n        currentHighlightedIndex = _ref10.highlightedIndex;\n\n    var _ref11 = prevProps.highlightedIndex === undefined ? prevState : prevProps,\n        prevHighlightedIndex = _ref11.highlightedIndex;\n\n    var scrollWhenOpen = currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen;\n    return scrollWhenOpen || currentHighlightedIndex !== prevHighlightedIndex;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateControlledUnchanged(prevProps, this.props);\n      /* istanbul ignore if (react-native) */\n\n      if (this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n      }\n    }\n\n    if (this.isControlledProp('selectedItem') && this.props.selectedItemChanged(prevProps.selectedItem, this.props.selectedItem)) {\n      this.internalSetState({\n        type: controlledPropUpdatedSelectedItem,\n        inputValue: this.props.itemToString(this.props.selectedItem)\n      });\n    }\n\n    if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n      this.scrollHighlightedItemIntoView();\n    }\n    /* istanbul ignore else (react-native) */\n\n\n    this.updateStatus();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cleanup(); // avoids memory leak\n  };\n\n  _proto.render = function render() {\n    var children = unwrapArray(this.props.children, noop); // because the items are rerendered every time we call the children\n    // we clear this out each render and it will be populated again as\n    // getItemProps is called.\n\n    this.clearItems(); // we reset this so we know whether the user calls getRootProps during\n    // this render. If they do then we don't need to do anything,\n    // if they don't then we need to clone the element they return and\n    // apply the props for them.\n\n    this.getRootProps.called = false;\n    this.getRootProps.refKey = undefined;\n    this.getRootProps.suppressRefError = undefined; // we do something similar for getMenuProps\n\n    this.getMenuProps.called = false;\n    this.getMenuProps.refKey = undefined;\n    this.getMenuProps.suppressRefError = undefined; // we do something similar for getLabelProps\n\n    this.getLabelProps.called = false; // and something similar for getInputProps\n\n    this.getInputProps.called = false;\n    var element = unwrapArray(children(this.getStateAndHelpers()));\n\n    if (!element) {\n      return null;\n    }\n\n    if (this.getRootProps.called || this.props.suppressRefError) {\n      if (process.env.NODE_ENV !== 'production' && !this.getRootProps.suppressRefError && !this.props.suppressRefError) {\n        validateGetRootPropsCalledCorrectly(element, this.getRootProps);\n      }\n\n      return element;\n    } else if (isDOMElement(element)) {\n      // they didn't apply the root props, but we can clone\n      // this and apply the props ourselves\n      return React.cloneElement(element, this.getRootProps(getElementProps(element)));\n    }\n    /* istanbul ignore else */\n\n\n    if (process.env.NODE_ENV !== 'production') {\n      // they didn't apply the root props, but they need to\n      // otherwise we can't query around the autocomplete\n      throw new Error('downshift: If you return a non-DOM element, you must use apply the getRootProps function');\n    }\n    /* istanbul ignore next */\n\n\n    return undefined;\n  };\n\n  return Downshift;\n}(Component);\n\nDownshift.defaultProps = {\n  defaultHighlightedIndex: null,\n  defaultIsOpen: false,\n  getA11yStatusMessage: getA11yStatusMessage,\n  itemToString: function itemToString(i) {\n    if (i == null) {\n      return '';\n    }\n\n    if (process.env.NODE_ENV !== 'production' && isPlainObject(i) && !i.hasOwnProperty('toString')) {\n      // eslint-disable-next-line no-console\n      console.warn('downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.', 'The object that was passed:', i);\n    }\n\n    return String(i);\n  },\n  onStateChange: noop,\n  onInputValueChange: noop,\n  onUserAction: noop,\n  onChange: noop,\n  onSelect: noop,\n  onOuterClick: noop,\n  selectedItemChanged: function selectedItemChanged(prevItem, item) {\n    return prevItem !== item;\n  },\n  environment: typeof window === 'undefined'\n  /* istanbul ignore next (ssr) */\n  ? {} : window,\n  stateReducer: function stateReducer(state, stateToSet) {\n    return stateToSet;\n  },\n  suppressRefError: false,\n  scrollIntoView: scrollIntoView\n};\nDownshift.stateChangeTypes = stateChangeTypes;\nprocess.env.NODE_ENV !== \"production\" ? Downshift.propTypes = {\n  children: PropTypes.func,\n  defaultHighlightedIndex: PropTypes.number,\n  defaultIsOpen: PropTypes.bool,\n  initialHighlightedIndex: PropTypes.number,\n  initialSelectedItem: PropTypes.any,\n  initialInputValue: PropTypes.string,\n  initialIsOpen: PropTypes.bool,\n  getA11yStatusMessage: PropTypes.func,\n  itemToString: PropTypes.func,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  onUserAction: PropTypes.func,\n  onOuterClick: PropTypes.func,\n  selectedItemChanged: PropTypes.func,\n  stateReducer: PropTypes.func,\n  itemCount: PropTypes.number,\n  id: PropTypes.string,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  }),\n  suppressRefError: PropTypes.bool,\n  scrollIntoView: PropTypes.func,\n  // things we keep in state for uncontrolled components\n  // but can accept as props for controlled components\n\n  /* eslint-disable react/no-unused-prop-types */\n  selectedItem: PropTypes.any,\n  isOpen: PropTypes.bool,\n  inputValue: PropTypes.string,\n  highlightedIndex: PropTypes.number,\n  labelId: PropTypes.string,\n  inputId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func\n  /* eslint-enable react/no-unused-prop-types */\n\n} : void 0;\n\nfunction validateGetMenuPropsCalledCorrectly(node, _ref12) {\n  var refKey = _ref12.refKey;\n\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: The ref prop \\\"\" + refKey + \"\\\" from getMenuProps was not applied correctly on your menu element.\");\n  }\n}\n\nfunction validateGetRootPropsCalledCorrectly(element, _ref13) {\n  var refKey = _ref13.refKey;\n  var refKeySpecified = refKey !== 'ref';\n  var isComposite = !isDOMElement(element);\n\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error('downshift: You returned a non-DOM element. You must specify a refKey in getRootProps');\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \\\"\" + refKey + \"\\\"\");\n  }\n\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You must apply the ref prop \\\"\" + refKey + \"\\\" from getRootProps onto your root element.\");\n  }\n}\n\nfunction validateControlledUnchanged(prevProps, nextProps) {\n  var warningDescription = \"This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props\";\n  ['selectedItem', 'isOpen', 'inputValue', 'highlightedIndex'].forEach(function (propKey) {\n    if (prevProps[propKey] !== undefined && nextProps[propKey] === undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the controlled prop \\\"\" + propKey + \"\\\" to be uncontrolled. \" + warningDescription);\n    } else if (prevProps[propKey] === undefined && nextProps[propKey] !== undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the uncontrolled prop \\\"\" + propKey + \"\\\" to be controlled. \" + warningDescription);\n    }\n  });\n}\n\nexport default Downshift;\nexport { resetIdCounter };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}