{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport { Button, CardActions, CircularProgress, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    form: {\n      padding: '0 1em 1em 1em'\n    },\n    input: {\n      marginTop: '1em'\n    },\n    button: {\n      width: '100%'\n    },\n    icon: {\n      marginRight: theme.spacing(1)\n    }\n  };\n}, {\n  name: 'RaLoginForm'\n});\nvar Input = function (_a) {\n  var _b = _a.meta,\n    touched = _b.touched,\n    error = _b.error,\n    // eslint-disable-line react/prop-types\n    inputProps = _a.input,\n    // eslint-disable-line react/prop-types\n    props = __rest(_a, [\"meta\", \"input\"]);\n  return React.createElement(TextField, __assign({\n    error: !!(touched && error),\n    helperText: touched && error\n  }, inputProps, props, {\n    fullWidth: true\n  }));\n};\nvar LoginForm = function (props) {\n  var redirectTo = props.redirectTo;\n  var _a = useSafeSetState(false),\n    loading = _a[0],\n    setLoading = _a[1];\n  var login = useLogin();\n  var translate = useTranslate();\n  var notify = useNotify();\n  var classes = useStyles(props);\n  var validate = function (values) {\n    var errors = {\n      username: undefined,\n      password: undefined\n    };\n    if (!values.username) {\n      errors.username = translate('ra.validation.required');\n    }\n    if (!values.password) {\n      errors.password = translate('ra.validation.required');\n    }\n    return errors;\n  };\n  var submit = function (values) {\n    setLoading(true);\n    login(values, redirectTo).then(function () {\n      setLoading(false);\n    }).catch(function (error) {\n      setLoading(false);\n      notify(typeof error === 'string' ? error : typeof error === 'undefined' || !error.message ? 'ra.auth.sign_in_error' : error.message, {\n        type: 'warning',\n        messageArgs: {\n          _: typeof error === 'string' ? error : error && error.message ? error.message : undefined\n        }\n      });\n    });\n  };\n  return React.createElement(Form, {\n    onSubmit: submit,\n    validate: validate,\n    render: function (_a) {\n      var handleSubmit = _a.handleSubmit;\n      return React.createElement(\"form\", {\n        onSubmit: handleSubmit,\n        noValidate: true\n      }, React.createElement(\"div\", {\n        className: classes.form\n      }, React.createElement(\"div\", {\n        className: classes.input\n      }, React.createElement(Field, {\n        autoFocus: true,\n        id: \"username\",\n        name: \"username\",\n        component: Input,\n        label: translate('ra.auth.username'),\n        disabled: loading\n      })), React.createElement(\"div\", {\n        className: classes.input\n      }, React.createElement(Field, {\n        id: \"password\",\n        name: \"password\",\n        component: Input,\n        label: translate('ra.auth.password'),\n        type: \"password\",\n        disabled: loading,\n        autoComplete: \"current-password\"\n      }))), React.createElement(CardActions, null, React.createElement(Button, {\n        variant: \"contained\",\n        type: \"submit\",\n        color: \"primary\",\n        disabled: loading,\n        className: classes.button\n      }, loading && React.createElement(CircularProgress, {\n        className: classes.icon,\n        size: 18,\n        thickness: 2\n      }), translate('ra.auth.sign_in'))));\n    }\n  });\n};\nLoginForm.propTypes = {\n  redirectTo: PropTypes.string\n};\nexport default LoginForm;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","PropTypes","Field","Form","Button","CardActions","CircularProgress","TextField","makeStyles","useTranslate","useLogin","useNotify","useSafeSetState","useStyles","theme","form","padding","input","marginTop","button","width","icon","marginRight","spacing","name","Input","_a","_b","meta","touched","error","inputProps","props","createElement","helperText","fullWidth","LoginForm","redirectTo","loading","setLoading","login","translate","notify","classes","validate","values","errors","username","undefined","password","submit","then","catch","message","type","messageArgs","_","onSubmit","render","handleSubmit","noValidate","className","autoFocus","id","component","label","disabled","autoComplete","variant","color","size","thickness","propTypes","string"],"sources":["/node_modules/ra-ui-materialui/esm/auth/LoginForm.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport { Button, CardActions, CircularProgress, TextField, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    button: {\n        width: '100%',\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n    },\n}); }, { name: 'RaLoginForm' });\nvar Input = function (_a) {\n    var _b = _a.meta, touched = _b.touched, error = _b.error, // eslint-disable-line react/prop-types\n    inputProps = _a.input, // eslint-disable-line react/prop-types\n    props = __rest(_a, [\"meta\", \"input\"]);\n    return (React.createElement(TextField, __assign({ error: !!(touched && error), helperText: touched && error }, inputProps, props, { fullWidth: true })));\n};\nvar LoginForm = function (props) {\n    var redirectTo = props.redirectTo;\n    var _a = useSafeSetState(false), loading = _a[0], setLoading = _a[1];\n    var login = useLogin();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var classes = useStyles(props);\n    var validate = function (values) {\n        var errors = { username: undefined, password: undefined };\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n    var submit = function (values) {\n        setLoading(true);\n        login(values, redirectTo)\n            .then(function () {\n            setLoading(false);\n        })\n            .catch(function (error) {\n            setLoading(false);\n            notify(typeof error === 'string'\n                ? error\n                : typeof error === 'undefined' || !error.message\n                    ? 'ra.auth.sign_in_error'\n                    : error.message, {\n                type: 'warning',\n                messageArgs: {\n                    _: typeof error === 'string'\n                        ? error\n                        : error && error.message\n                            ? error.message\n                            : undefined,\n                },\n            });\n        });\n    };\n    return (React.createElement(Form, { onSubmit: submit, validate: validate, render: function (_a) {\n            var handleSubmit = _a.handleSubmit;\n            return (React.createElement(\"form\", { onSubmit: handleSubmit, noValidate: true },\n                React.createElement(\"div\", { className: classes.form },\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { autoFocus: true, id: \"username\", name: \"username\", component: Input, label: translate('ra.auth.username'), disabled: loading })),\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { id: \"password\", name: \"password\", component: Input, label: translate('ra.auth.password'), type: \"password\", disabled: loading, autoComplete: \"current-password\" }))),\n                React.createElement(CardActions, null,\n                    React.createElement(Button, { variant: \"contained\", type: \"submit\", color: \"primary\", disabled: loading, className: classes.button },\n                        loading && (React.createElement(CircularProgress, { className: classes.icon, size: 18, thickness: 2 })),\n                        translate('ra.auth.sign_in')))));\n        } }));\n};\nLoginForm.propTypes = {\n    redirectTo: PropTypes.string,\n};\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}