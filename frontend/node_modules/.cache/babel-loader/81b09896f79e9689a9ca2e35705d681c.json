{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { all, call, cancelled, put, select, takeEvery } from 'redux-saga/effects';\nimport { FETCH_CANCEL, FETCH_END, FETCH_ERROR, FETCH_START } from '../actions';\nimport { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, sanitizeFetchType } from '../core';\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n  if (logger === void 0) {\n    logger = console.error;\n  }\n  if (!response.hasOwnProperty('data')) {\n    logger(\"The response to '\" + type + \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\" + type + \"'.\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n  if (fetchActionsWithArrayOfRecordsResponse.includes(type) && !Array.isArray(response.data)) {\n    logger(\"The response to '\" + type + \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n  if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) && Array.isArray(response.data) && response.data.length > 0 && response.data.some(function (d) {\n    return !d.hasOwnProperty('id');\n  })) {\n    logger(\"The response to '\" + type + \"' must be like { data : [{ id: 123, ...}, ...] }, but at least one received data item do not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n  if (fetchActionsWithRecordResponse.includes(type) && !response.data.hasOwnProperty('id')) {\n    logger(\"The response to '\" + type + \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n  if (fetchActionsWithTotalResponse.includes(type) && !response.hasOwnProperty('total')) {\n    logger(\"The response to '\" + type + \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n}\nexport function handleFetch(dataProvider, action) {\n  var type, payload, _a, fetchMeta, onSuccess, onFailure, meta, restType, successSideEffects, failureSideEffects, isOptimistic, response, error_1;\n  return __generator(this, function (_b) {\n    switch (_b.label) {\n      case 0:\n        type = action.type, payload = action.payload, _a = action.meta, fetchMeta = _a.fetch, onSuccess = _a.onSuccess, onFailure = _a.onFailure, meta = __rest(_a, [\"fetch\", \"onSuccess\", \"onFailure\"]);\n        restType = fetchMeta;\n        successSideEffects = onSuccess instanceof Function ? {} : onSuccess;\n        failureSideEffects = onFailure instanceof Function ? {} : onFailure;\n        _b.label = 1;\n      case 1:\n        _b.trys.push([1, 7, 10, 14]);\n        return [4 /*yield*/, select(function (state) {\n          return state.admin.ui.optimistic;\n        })];\n      case 2:\n        isOptimistic = _b.sent();\n        if (isOptimistic) {\n          // in optimistic mode, all fetch actions are canceled,\n          // so the admin uses the store without synchronization\n          return [2 /*return*/];\n        }\n\n        return [4 /*yield*/, all([put({\n          type: type + \"_LOADING\",\n          payload: payload,\n          meta: meta\n        }), put({\n          type: FETCH_START\n        })])];\n      case 3:\n        _b.sent();\n        return [4 /*yield*/, call(dataProvider[sanitizeFetchType(restType)], meta.resource, payload)];\n      case 4:\n        response = _b.sent();\n        if (process.env.NODE_ENV !== 'production') {\n          validateResponseFormat(response, restType);\n        }\n        return [4 /*yield*/, put({\n          type: type + \"_SUCCESS\",\n          payload: response,\n          requestPayload: payload,\n          meta: __assign(__assign(__assign({}, meta), successSideEffects), {\n            fetchResponse: restType,\n            fetchStatus: FETCH_END\n          })\n        })];\n      case 5:\n        _b.sent();\n        return [4 /*yield*/, put({\n          type: FETCH_END\n        })];\n      case 6:\n        _b.sent();\n        return [3 /*break*/, 14];\n      case 7:\n        error_1 = _b.sent();\n        return [4 /*yield*/, put({\n          type: type + \"_FAILURE\",\n          error: error_1 && (error_1.message ? error_1.message : error_1) || null,\n          payload: error_1 && error_1.body || null,\n          requestPayload: payload,\n          meta: __assign(__assign(__assign({}, meta), failureSideEffects), {\n            fetchResponse: restType,\n            fetchStatus: FETCH_ERROR\n          })\n        })];\n      case 8:\n        _b.sent();\n        return [4 /*yield*/, put({\n          type: FETCH_ERROR,\n          error: error_1\n        })];\n      case 9:\n        _b.sent();\n        return [3 /*break*/, 14];\n      case 10:\n        return [4 /*yield*/, cancelled()];\n      case 11:\n        if (!_b.sent()) return [3 /*break*/, 13];\n        return [4 /*yield*/, put({\n          type: FETCH_CANCEL\n        })];\n      case 12:\n        _b.sent();\n        return [2 /*return*/];\n      case 13:\n        return [7 /*endfinally*/];\n      case 14:\n        return [2 /*return*/];\n    }\n  });\n}\n\nexport var takeFetchAction = function (action) {\n  return action.meta && action.meta.fetch;\n};\nvar fetch = function (dataProvider) {\n  return function watchFetch() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4 /*yield*/, takeEvery(takeFetchAction, handleFetch, dataProvider)];\n        case 1:\n          _a.sent();\n          return [2 /*return*/];\n      }\n    });\n  };\n};\n\nexport default fetch;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__generator","thisArg","body","_","label","sent","trys","ops","f","y","g","next","verb","Symbol","iterator","v","step","op","TypeError","done","value","pop","push","e","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","all","cancelled","put","select","takeEvery","FETCH_CANCEL","FETCH_END","FETCH_ERROR","FETCH_START","fetchActionsWithRecordResponse","fetchActionsWithArrayOfIdentifiedRecordsResponse","fetchActionsWithArrayOfRecordsResponse","fetchActionsWithTotalResponse","sanitizeFetchType","validateResponseFormat","response","type","logger","console","error","Error","includes","Array","isArray","data","some","d","handleFetch","dataProvider","action","payload","_a","fetchMeta","onSuccess","onFailure","meta","restType","successSideEffects","failureSideEffects","isOptimistic","error_1","_b","fetch","Function","state","admin","ui","optimistic","resource","process","env","NODE_ENV","requestPayload","fetchResponse","fetchStatus","message","takeFetchAction","watchFetch"],"sources":["/node_modules/ra-core/esm/sideEffect/fetch.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { all, call, cancelled, put, select, takeEvery, } from 'redux-saga/effects';\nimport { FETCH_CANCEL, FETCH_END, FETCH_ERROR, FETCH_START } from '../actions';\nimport { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, sanitizeFetchType, } from '../core';\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n    if (logger === void 0) { logger = console.error; }\n    if (!response.hasOwnProperty('data')) {\n        logger(\"The response to '\" + type + \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\" + type + \"'.\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfRecordsResponse.includes(type) &&\n        !Array.isArray(response.data)) {\n        logger(\"The response to '\" + type + \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\n        Array.isArray(response.data) &&\n        response.data.length > 0 &&\n        response.data.some(function (d) { return !d.hasOwnProperty('id'); })) {\n        logger(\"The response to '\" + type + \"' must be like { data : [{ id: 123, ...}, ...] }, but at least one received data item do not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithRecordResponse.includes(type) &&\n        !response.data.hasOwnProperty('id')) {\n        logger(\"The response to '\" + type + \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithTotalResponse.includes(type) &&\n        !response.hasOwnProperty('total')) {\n        logger(\"The response to '\" + type + \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n}\nexport function handleFetch(dataProvider, action) {\n    var type, payload, _a, fetchMeta, onSuccess, onFailure, meta, restType, successSideEffects, failureSideEffects, isOptimistic, response, error_1;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                type = action.type, payload = action.payload, _a = action.meta, fetchMeta = _a.fetch, onSuccess = _a.onSuccess, onFailure = _a.onFailure, meta = __rest(_a, [\"fetch\", \"onSuccess\", \"onFailure\"]);\n                restType = fetchMeta;\n                successSideEffects = onSuccess instanceof Function ? {} : onSuccess;\n                failureSideEffects = onFailure instanceof Function ? {} : onFailure;\n                _b.label = 1;\n            case 1:\n                _b.trys.push([1, 7, 10, 14]);\n                return [4 /*yield*/, select(function (state) { return state.admin.ui.optimistic; })];\n            case 2:\n                isOptimistic = _b.sent();\n                if (isOptimistic) {\n                    // in optimistic mode, all fetch actions are canceled,\n                    // so the admin uses the store without synchronization\n                    return [2 /*return*/];\n                }\n                return [4 /*yield*/, all([\n                        put({ type: type + \"_LOADING\", payload: payload, meta: meta }),\n                        put({ type: FETCH_START }),\n                    ])];\n            case 3:\n                _b.sent();\n                return [4 /*yield*/, call(dataProvider[sanitizeFetchType(restType)], meta.resource, payload)];\n            case 4:\n                response = _b.sent();\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, restType);\n                }\n                return [4 /*yield*/, put({\n                        type: type + \"_SUCCESS\",\n                        payload: response,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), successSideEffects), { fetchResponse: restType, fetchStatus: FETCH_END }),\n                    })];\n            case 5:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_END })];\n            case 6:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 7:\n                error_1 = _b.sent();\n                return [4 /*yield*/, put({\n                        type: type + \"_FAILURE\",\n                        error: (error_1 && (error_1.message ? error_1.message : error_1)) || null,\n                        payload: (error_1 && error_1.body) || null,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), failureSideEffects), { fetchResponse: restType, fetchStatus: FETCH_ERROR }),\n                    })];\n            case 8:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_ERROR, error: error_1 })];\n            case 9:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 10: return [4 /*yield*/, cancelled()];\n            case 11:\n                if (!_b.sent()) return [3 /*break*/, 13];\n                return [4 /*yield*/, put({ type: FETCH_CANCEL })];\n            case 12:\n                _b.sent();\n                return [2 /*return*/];\n            case 13: return [7 /*endfinally*/];\n            case 14: return [2 /*return*/];\n        }\n    });\n}\nexport var takeFetchAction = function (action) { return action.meta && action.meta.fetch; };\nvar fetch = function (dataProvider) {\n    return function watchFetch() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, takeEvery(takeFetchAction, handleFetch, dataProvider)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport default fetch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}