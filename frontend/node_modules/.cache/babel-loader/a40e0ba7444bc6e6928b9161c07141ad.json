{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport React, { createElement, useRef, useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport { createMuiTheme } from '../layout';\nimport DefaultNotification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\nvar Login = function (props) {\n  var theme = props.theme,\n    rest = __rest(props, [\"theme\"]);\n  var muiTheme = useMemo(function () {\n    return createMuiTheme(theme);\n  }, [theme]);\n  return React.createElement(ThemeProvider, {\n    theme: muiTheme\n  }, React.createElement(LoginView, __assign({}, rest)));\n};\nLogin.propTypes = {\n  backgroundImage: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  theme: PropTypes.object,\n  staticContext: PropTypes.object\n};\nLogin.defaultProps = {\n  theme: defaultTheme,\n  children: React.createElement(DefaultLoginForm, null),\n  notification: DefaultNotification\n};\nexport default Login;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    main: {\n      display: 'flex',\n      flexDirection: 'column',\n      minHeight: '100vh',\n      height: '1px',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover',\n      backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)'\n    },\n    card: {\n      minWidth: 300,\n      marginTop: '6em'\n    },\n    avatar: {\n      margin: '1em',\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    icon: {\n      backgroundColor: theme.palette.secondary[500]\n    }\n  };\n}, {\n  name: 'RaLogin'\n});\nvar LoginView = function (props) {\n  var title = props.title,\n    classesOverride = props.classes,\n    className = props.className,\n    children = props.children,\n    notification = props.notification,\n    staticContext = props.staticContext,\n    backgroundImage = props.backgroundImage,\n    rest = __rest(props, [\"title\", \"classes\", \"className\", \"children\", \"notification\", \"staticContext\", \"backgroundImage\"]);\n  var containerRef = useRef();\n  var classes = useStyles(props);\n  var checkAuth = useCheckAuth();\n  var history = useHistory();\n  useEffect(function () {\n    checkAuth({}, false).then(function () {\n      // already authenticated, redirect to the home page\n      history.push('/');\n    }).catch(function () {\n      // not authenticated, stay on the login page\n    });\n  }, [checkAuth, history]);\n  var backgroundImageLoaded = false;\n  var updateBackgroundImage = function () {\n    if (!backgroundImageLoaded && containerRef.current) {\n      containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n      backgroundImageLoaded = true;\n    }\n  };\n  // Load background image asynchronously to speed up time to interactive\n  var lazyLoadBackgroundImage = function () {\n    if (backgroundImage) {\n      var img = new Image();\n      img.onload = updateBackgroundImage;\n      img.src = backgroundImage;\n    }\n  };\n  useEffect(function () {\n    if (!backgroundImageLoaded) {\n      lazyLoadBackgroundImage();\n    }\n  });\n  return React.createElement(\"div\", __assign({\n    className: classnames(classes.main, className)\n  }, rest, {\n    ref: containerRef\n  }), React.createElement(Card, {\n    className: classes.card\n  }, React.createElement(\"div\", {\n    className: classes.avatar\n  }, React.createElement(Avatar, {\n    className: classes.icon\n  }, React.createElement(LockIcon, null))), children), notification ? createElement(notification) : null);\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","createElement","useRef","useEffect","useMemo","PropTypes","classnames","Card","Avatar","makeStyles","ThemeProvider","LockIcon","useHistory","useCheckAuth","defaultTheme","createMuiTheme","DefaultNotification","DefaultLoginForm","Login","props","theme","rest","muiTheme","LoginView","propTypes","backgroundImage","string","children","node","classes","object","className","staticContext","defaultProps","notification","useStyles","main","display","flexDirection","minHeight","height","alignItems","justifyContent","backgroundRepeat","backgroundSize","card","minWidth","marginTop","avatar","margin","icon","backgroundColor","palette","secondary","name","title","classesOverride","containerRef","checkAuth","history","then","push","catch","backgroundImageLoaded","updateBackgroundImage","current","style","lazyLoadBackgroundImage","img","Image","onload","src","ref"],"sources":["/node_modules/ra-ui-materialui/esm/auth/Login.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { createElement, useRef, useEffect, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport { createMuiTheme } from '../layout';\nimport DefaultNotification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\nvar Login = function (props) {\n    var theme = props.theme, rest = __rest(props, [\"theme\"]);\n    var muiTheme = useMemo(function () { return createMuiTheme(theme); }, [theme]);\n    return (React.createElement(ThemeProvider, { theme: muiTheme },\n        React.createElement(LoginView, __assign({}, rest))));\n};\nLogin.propTypes = {\n    backgroundImage: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    theme: PropTypes.object,\n    staticContext: PropTypes.object,\n};\nLogin.defaultProps = {\n    theme: defaultTheme,\n    children: React.createElement(DefaultLoginForm, null),\n    notification: DefaultNotification,\n};\nexport default Login;\nvar useStyles = makeStyles(function (theme) { return ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        height: '1px',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary[500],\n    },\n}); }, { name: 'RaLogin' });\nvar LoginView = function (props) {\n    var title = props.title, classesOverride = props.classes, className = props.className, children = props.children, notification = props.notification, staticContext = props.staticContext, backgroundImage = props.backgroundImage, rest = __rest(props, [\"title\", \"classes\", \"className\", \"children\", \"notification\", \"staticContext\", \"backgroundImage\"]);\n    var containerRef = useRef();\n    var classes = useStyles(props);\n    var checkAuth = useCheckAuth();\n    var history = useHistory();\n    useEffect(function () {\n        checkAuth({}, false)\n            .then(function () {\n            // already authenticated, redirect to the home page\n            history.push('/');\n        })\n            .catch(function () {\n            // not authenticated, stay on the login page\n        });\n    }, [checkAuth, history]);\n    var backgroundImageLoaded = false;\n    var updateBackgroundImage = function () {\n        if (!backgroundImageLoaded && containerRef.current) {\n            containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n            backgroundImageLoaded = true;\n        }\n    };\n    // Load background image asynchronously to speed up time to interactive\n    var lazyLoadBackgroundImage = function () {\n        if (backgroundImage) {\n            var img = new Image();\n            img.onload = updateBackgroundImage;\n            img.src = backgroundImage;\n        }\n    };\n    useEffect(function () {\n        if (!backgroundImageLoaded) {\n            lazyLoadBackgroundImage();\n        }\n    });\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest, { ref: containerRef }),\n        React.createElement(Card, { className: classes.card },\n            React.createElement(\"div\", { className: classes.avatar },\n                React.createElement(Avatar, { className: classes.icon },\n                    React.createElement(LockIcon, null))),\n            children),\n        notification ? createElement(notification) : null));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}