{"ast":null,"code":"import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\nimport { EditContext } from './EditContext';\n/**\n * Hook to read the edit controller props from the CreateContext.\n *\n * Mostly used within a <EditContext.Provider> (e.g. as a descendent of <Edit>).\n *\n * But you can also use it without a <EditContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} EditControllerProps\n *\n * @returns {EditControllerProps} edit controller props\n *\n * @see useEditController for how it is filled\n *\n */\nexport var useEditContext = function (props) {\n  // Can't find a way to specify the RecordType when EditContext is declared\n  // @ts-ignore\n  var context = useContext(EditContext);\n  // Props take precedence over the context\n  return useMemo(function () {\n    return defaults({}, props != null ? extractEditContextProps(props) : {}, context);\n  }, [context, props]);\n};\n/**\n * Extract only the edit controller props\n *\n * @param {Object} props props passed to the useEditContext hook\n *\n * @returns {EditControllerProps} edit controller props\n */\nvar extractEditContextProps = function (_a) {\n  var basePath = _a.basePath,\n    data = _a.data,\n    record = _a.record,\n    defaultTitle = _a.defaultTitle,\n    onFailureRef = _a.onFailureRef,\n    onSuccessRef = _a.onSuccessRef,\n    transformRef = _a.transformRef,\n    loaded = _a.loaded,\n    loading = _a.loading,\n    redirect = _a.redirect,\n    setOnFailure = _a.setOnFailure,\n    setOnSuccess = _a.setOnSuccess,\n    setTransform = _a.setTransform,\n    resource = _a.resource,\n    save = _a.save,\n    saving = _a.saving,\n    successMessage = _a.successMessage,\n    version = _a.version;\n  return {\n    basePath: basePath,\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    data: record || data,\n    record: record || data,\n    defaultTitle: defaultTitle,\n    onFailureRef: onFailureRef,\n    onSuccessRef: onSuccessRef,\n    transformRef: transformRef,\n    loaded: loaded,\n    loading: loading,\n    redirect: redirect,\n    setOnFailure: setOnFailure,\n    setOnSuccess: setOnSuccess,\n    setTransform: setTransform,\n    resource: resource,\n    save: save,\n    saving: saving,\n    successMessage: successMessage,\n    version: version\n  };\n};","map":{"version":3,"names":["useContext","useMemo","defaults","EditContext","useEditContext","props","context","extractEditContextProps","_a","basePath","data","record","defaultTitle","onFailureRef","onSuccessRef","transformRef","loaded","loading","redirect","setOnFailure","setOnSuccess","setTransform","resource","save","saving","successMessage","version"],"sources":["/node_modules/ra-core/esm/controller/details/useEditContext.js"],"sourcesContent":["import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\nimport { EditContext } from './EditContext';\n/**\n * Hook to read the edit controller props from the CreateContext.\n *\n * Mostly used within a <EditContext.Provider> (e.g. as a descendent of <Edit>).\n *\n * But you can also use it without a <EditContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} EditControllerProps\n *\n * @returns {EditControllerProps} edit controller props\n *\n * @see useEditController for how it is filled\n *\n */\nexport var useEditContext = function (props) {\n    // Can't find a way to specify the RecordType when EditContext is declared\n    // @ts-ignore\n    var context = useContext(EditContext);\n    // Props take precedence over the context\n    return useMemo(function () {\n        return defaults({}, props != null ? extractEditContextProps(props) : {}, context);\n    }, [context, props]);\n};\n/**\n * Extract only the edit controller props\n *\n * @param {Object} props props passed to the useEditContext hook\n *\n * @returns {EditControllerProps} edit controller props\n */\nvar extractEditContextProps = function (_a) {\n    var basePath = _a.basePath, data = _a.data, record = _a.record, defaultTitle = _a.defaultTitle, onFailureRef = _a.onFailureRef, onSuccessRef = _a.onSuccessRef, transformRef = _a.transformRef, loaded = _a.loaded, loading = _a.loading, redirect = _a.redirect, setOnFailure = _a.setOnFailure, setOnSuccess = _a.setOnSuccess, setTransform = _a.setTransform, resource = _a.resource, save = _a.save, saving = _a.saving, successMessage = _a.successMessage, version = _a.version;\n    return ({\n        basePath: basePath,\n        // Necessary for actions (EditActions) which expect a data prop containing the record\n        // @deprecated - to be removed in 4.0d\n        data: record || data,\n        record: record || data,\n        defaultTitle: defaultTitle,\n        onFailureRef: onFailureRef,\n        onSuccessRef: onSuccessRef,\n        transformRef: transformRef,\n        loaded: loaded,\n        loading: loading,\n        redirect: redirect,\n        setOnFailure: setOnFailure,\n        setOnSuccess: setOnSuccess,\n        setTransform: setTransform,\n        resource: resource,\n        save: save,\n        saving: saving,\n        successMessage: successMessage,\n        version: version,\n    });\n};\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,OAAO,QAAQ,OAAO;AAC3C,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,SAASC,WAAW,QAAQ,eAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIC,cAAc,GAAG,SAAAA,CAAUC,KAAK,EAAE;EACzC;EACA;EACA,IAAIC,OAAO,GAAGN,UAAU,CAACG,WAAW,CAAC;EACrC;EACA,OAAOF,OAAO,CAAC,YAAY;IACvB,OAAOC,QAAQ,CAAC,CAAC,CAAC,EAAEG,KAAK,IAAI,IAAI,GAAGE,uBAAuB,CAACF,KAAK,CAAC,GAAG,CAAC,CAAC,EAAEC,OAAO,CAAC;EACrF,CAAC,EAAE,CAACA,OAAO,EAAED,KAAK,CAAC,CAAC;AACxB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIE,uBAAuB,GAAG,SAAAA,CAAUC,EAAE,EAAE;EACxC,IAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAQ;IAAEC,IAAI,GAAGF,EAAE,CAACE,IAAI;IAAEC,MAAM,GAAGH,EAAE,CAACG,MAAM;IAAEC,YAAY,GAAGJ,EAAE,CAACI,YAAY;IAAEC,YAAY,GAAGL,EAAE,CAACK,YAAY;IAAEC,YAAY,GAAGN,EAAE,CAACM,YAAY;IAAEC,YAAY,GAAGP,EAAE,CAACO,YAAY;IAAEC,MAAM,GAAGR,EAAE,CAACQ,MAAM;IAAEC,OAAO,GAAGT,EAAE,CAACS,OAAO;IAAEC,QAAQ,GAAGV,EAAE,CAACU,QAAQ;IAAEC,YAAY,GAAGX,EAAE,CAACW,YAAY;IAAEC,YAAY,GAAGZ,EAAE,CAACY,YAAY;IAAEC,YAAY,GAAGb,EAAE,CAACa,YAAY;IAAEC,QAAQ,GAAGd,EAAE,CAACc,QAAQ;IAAEC,IAAI,GAAGf,EAAE,CAACe,IAAI;IAAEC,MAAM,GAAGhB,EAAE,CAACgB,MAAM;IAAEC,cAAc,GAAGjB,EAAE,CAACiB,cAAc;IAAEC,OAAO,GAAGlB,EAAE,CAACkB,OAAO;EACtd,OAAQ;IACJjB,QAAQ,EAAEA,QAAQ;IAClB;IACA;IACAC,IAAI,EAAEC,MAAM,IAAID,IAAI;IACpBC,MAAM,EAAEA,MAAM,IAAID,IAAI;IACtBE,YAAY,EAAEA,YAAY;IAC1BC,YAAY,EAAEA,YAAY;IAC1BC,YAAY,EAAEA,YAAY;IAC1BC,YAAY,EAAEA,YAAY;IAC1BC,MAAM,EAAEA,MAAM;IACdC,OAAO,EAAEA,OAAO;IAChBC,QAAQ,EAAEA,QAAQ;IAClBC,YAAY,EAAEA,YAAY;IAC1BC,YAAY,EAAEA,YAAY;IAC1BC,YAAY,EAAEA,YAAY;IAC1BC,QAAQ,EAAEA,QAAQ;IAClBC,IAAI,EAAEA,IAAI;IACVC,MAAM,EAAEA,MAAM;IACdC,cAAc,EAAEA,cAAc;IAC9BC,OAAO,EAAEA;EACb,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module"}