{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { useCallback, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\nimport { indexById, removeEmpty, useSafeSetState } from '../util';\nimport usePaginationState from './usePaginationState';\nimport useSortState from './useSortState';\nimport useSelectionState from './useSelectionState';\n/**\n * Handle filtering, sorting and pagination on local data.\n *\n * Returns the data and callbacks expected by <ListContext>.\n *\n * @example\n * const data = [\n *     { id: 1, name: 'Arnold' },\n *     { id: 2, name: 'Sylvester' },\n *     { id: 3, name: 'Jean-Claude' },\n * ]\n * const ids = [1, 2, 3];\n *\n * const MyComponent = () => {\n *     const listContext = useList({\n *         data,\n *         ids,\n *         basePath: '/resource';\n *         resource: 'resource';\n *     });\n *     return (\n *         <ListContextProvider value={listContext}>\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"name\" />\n *             </Datagrid>\n *         </ListContextProvider>\n *     );\n * };\n *\n * @param {UseListOptions} props\n * @param {Record[]} props.data An array of records\n * @param {Identifier[]} props.ids An array of the record identifiers\n * @param {Boolean} props.loaded: A boolean indicating whether the data has been loaded at least once\n * @param {Boolean} props.loading: A boolean indicating whether the data is being loaded\n * @param {Error | String} props.error: Optional. The error if any occurred while loading the data\n * @param {Object} props.filter: Optional. An object containing the filters applied on the data\n * @param {Number} props.page: Optional. The initial page index\n * @param {Number} props.perPage: Optional. The initial page size\n * @param {SortPayload} props.sort: Optional. The initial sort (field and order)\n */\nexport var useList = function (props) {\n  var data = props.data,\n    error = props.error,\n    _a = props.filter,\n    filter = _a === void 0 ? defaultFilter : _a,\n    ids = props.ids,\n    loaded = props.loaded,\n    loading = props.loading,\n    _b = props.page,\n    initialPage = _b === void 0 ? 1 : _b,\n    _c = props.perPage,\n    initialPerPage = _c === void 0 ? 1000 : _c,\n    _d = props.sort,\n    initialSort = _d === void 0 ? defaultSort : _d;\n  var _e = useSafeSetState(function () {\n      return {\n        data: Array.isArray(data) ? indexById(data) : {},\n        ids: Array.isArray(ids) ? ids : [],\n        total: Array.isArray(ids) ? ids.length : 0\n      };\n    }),\n    finalItems = _e[0],\n    setFinalItems = _e[1];\n  // pagination logic\n  var _f = usePaginationState({\n      page: initialPage,\n      perPage: initialPerPage\n    }),\n    page = _f.page,\n    setPage = _f.setPage,\n    perPage = _f.perPage,\n    setPerPage = _f.setPerPage;\n  // sort logic\n  var _g = useSortState(initialSort),\n    sort = _g.sort,\n    setSortObject = _g.setSort;\n  var setSort = useCallback(function (field, order) {\n    if (order === void 0) {\n      order = 'ASC';\n    }\n    setSortObject({\n      field: field,\n      order: order\n    });\n    setPage(1);\n  }, [setPage, setSortObject]);\n  // selection logic\n  var _h = useSelectionState(),\n    selectedIds = _h.selectedIds,\n    onSelect = _h.onSelect,\n    onToggleItem = _h.onToggleItem,\n    onUnselectItems = _h.onUnselectItems;\n  // filter logic\n  var filterRef = useRef(filter);\n  var _j = useSafeSetState({}),\n    displayedFilters = _j[0],\n    setDisplayedFilters = _j[1];\n  var _k = useSafeSetState(filter),\n    filterValues = _k[0],\n    setFilterValues = _k[1];\n  var hideFilter = useCallback(function (filterName) {\n    setDisplayedFilters(function (previousState) {\n      var _a = previousState,\n        _b = filterName,\n        _ = _a[_b],\n        newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n      return newState;\n    });\n    setFilterValues(function (previousState) {\n      var _a = previousState,\n        _b = filterName,\n        _ = _a[_b],\n        newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n      return newState;\n    });\n  }, [setDisplayedFilters, setFilterValues]);\n  var showFilter = useCallback(function (filterName, defaultValue) {\n    setDisplayedFilters(function (previousState) {\n      var _a;\n      return __assign(__assign({}, previousState), (_a = {}, _a[filterName] = true, _a));\n    });\n    setFilterValues(function (previousState) {\n      var _a;\n      return removeEmpty(__assign(__assign({}, previousState), (_a = {}, _a[filterName] = defaultValue, _a)));\n    });\n  }, [setDisplayedFilters, setFilterValues]);\n  var setFilters = useCallback(function (filters, displayedFilters) {\n    setFilterValues(removeEmpty(filters));\n    if (displayedFilters) {\n      setDisplayedFilters(displayedFilters);\n    }\n    setPage(1);\n  }, [setDisplayedFilters, setFilterValues, setPage]);\n  // handle filter prop change\n  useEffect(function () {\n    if (!isEqual(filter, filterRef.current)) {\n      filterRef.current = filter;\n      setFilterValues(filter);\n    }\n  });\n  // We do all the data processing (filtering, sorting, paginating) client-side\n  useEffect(function () {\n    if (!loaded) return;\n    // 1. filter\n    var tempData = data.filter(function (record) {\n      return Object.entries(filterValues).every(function (_a) {\n        var filterName = _a[0],\n          filterValue = _a[1];\n        var recordValue = get(record, filterName);\n        var result = Array.isArray(recordValue) ? Array.isArray(filterValue) ? recordValue.some(function (item) {\n          return filterValue.includes(item);\n        }) : recordValue.includes(filterValue) : Array.isArray(filterValue) ? filterValue.includes(recordValue) : filterValue == recordValue; // eslint-disable-line eqeqeq\n        return result;\n      });\n    });\n    var filteredLength = tempData.length;\n    // 2. sort\n    if (sort.field) {\n      tempData = tempData.sort(function (a, b) {\n        if (get(a, sort.field) > get(b, sort.field)) {\n          return sort.order === 'ASC' ? 1 : -1;\n        }\n        if (get(a, sort.field) < get(b, sort.field)) {\n          return sort.order === 'ASC' ? -1 : 1;\n        }\n        return 0;\n      });\n    }\n    // 3. paginate\n    tempData = tempData.slice((page - 1) * perPage, page * perPage);\n    var finalData = indexById(tempData);\n    var finalIds = tempData.filter(function (data) {\n      return typeof data !== 'undefined';\n    }).map(function (data) {\n      return data.id;\n    });\n    setFinalItems({\n      data: finalData,\n      ids: finalIds,\n      total: filteredLength\n    });\n  }, [data, filterValues, loaded, page, perPage, setFinalItems, sort.field, sort.order]);\n  return {\n    currentSort: sort,\n    data: finalItems.data,\n    error: error,\n    displayedFilters: displayedFilters,\n    filterValues: filterValues,\n    hideFilter: hideFilter,\n    ids: finalItems.ids,\n    loaded: loaded,\n    loading: loading,\n    onSelect: onSelect,\n    onToggleItem: onToggleItem,\n    onUnselectItems: onUnselectItems,\n    page: page,\n    perPage: perPage,\n    selectedIds: selectedIds,\n    setFilters: setFilters,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSort,\n    showFilter: showFilter,\n    total: finalItems.total\n  };\n};\nvar defaultFilter = {};\nvar defaultSort = {\n  field: null,\n  order: null\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","useCallback","useEffect","useRef","get","isEqual","indexById","removeEmpty","useSafeSetState","usePaginationState","useSortState","useSelectionState","useList","props","data","error","_a","filter","defaultFilter","ids","loaded","loading","_b","page","initialPage","_c","perPage","initialPerPage","_d","sort","initialSort","defaultSort","_e","Array","isArray","total","finalItems","setFinalItems","_f","setPage","setPerPage","_g","setSortObject","setSort","field","order","_h","selectedIds","onSelect","onToggleItem","onUnselectItems","filterRef","_j","displayedFilters","setDisplayedFilters","_k","filterValues","setFilterValues","hideFilter","filterName","previousState","_","newState","showFilter","defaultValue","setFilters","filters","current","tempData","record","entries","every","filterValue","recordValue","result","some","item","includes","filteredLength","a","b","slice","finalData","finalIds","map","id","currentSort"],"sources":["/node_modules/ra-core/esm/controller/useList.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\nimport { indexById, removeEmpty, useSafeSetState } from '../util';\nimport usePaginationState from './usePaginationState';\nimport useSortState from './useSortState';\nimport useSelectionState from './useSelectionState';\n/**\n * Handle filtering, sorting and pagination on local data.\n *\n * Returns the data and callbacks expected by <ListContext>.\n *\n * @example\n * const data = [\n *     { id: 1, name: 'Arnold' },\n *     { id: 2, name: 'Sylvester' },\n *     { id: 3, name: 'Jean-Claude' },\n * ]\n * const ids = [1, 2, 3];\n *\n * const MyComponent = () => {\n *     const listContext = useList({\n *         data,\n *         ids,\n *         basePath: '/resource';\n *         resource: 'resource';\n *     });\n *     return (\n *         <ListContextProvider value={listContext}>\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"name\" />\n *             </Datagrid>\n *         </ListContextProvider>\n *     );\n * };\n *\n * @param {UseListOptions} props\n * @param {Record[]} props.data An array of records\n * @param {Identifier[]} props.ids An array of the record identifiers\n * @param {Boolean} props.loaded: A boolean indicating whether the data has been loaded at least once\n * @param {Boolean} props.loading: A boolean indicating whether the data is being loaded\n * @param {Error | String} props.error: Optional. The error if any occurred while loading the data\n * @param {Object} props.filter: Optional. An object containing the filters applied on the data\n * @param {Number} props.page: Optional. The initial page index\n * @param {Number} props.perPage: Optional. The initial page size\n * @param {SortPayload} props.sort: Optional. The initial sort (field and order)\n */\nexport var useList = function (props) {\n    var data = props.data, error = props.error, _a = props.filter, filter = _a === void 0 ? defaultFilter : _a, ids = props.ids, loaded = props.loaded, loading = props.loading, _b = props.page, initialPage = _b === void 0 ? 1 : _b, _c = props.perPage, initialPerPage = _c === void 0 ? 1000 : _c, _d = props.sort, initialSort = _d === void 0 ? defaultSort : _d;\n    var _e = useSafeSetState(function () { return ({\n        data: Array.isArray(data) ? indexById(data) : {},\n        ids: Array.isArray(ids) ? ids : [],\n        total: Array.isArray(ids) ? ids.length : 0,\n    }); }), finalItems = _e[0], setFinalItems = _e[1];\n    // pagination logic\n    var _f = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    }), page = _f.page, setPage = _f.setPage, perPage = _f.perPage, setPerPage = _f.setPerPage;\n    // sort logic\n    var _g = useSortState(initialSort), sort = _g.sort, setSortObject = _g.setSort;\n    var setSort = useCallback(function (field, order) {\n        if (order === void 0) { order = 'ASC'; }\n        setSortObject({ field: field, order: order });\n        setPage(1);\n    }, [setPage, setSortObject]);\n    // selection logic\n    var _h = useSelectionState(), selectedIds = _h.selectedIds, onSelect = _h.onSelect, onToggleItem = _h.onToggleItem, onUnselectItems = _h.onUnselectItems;\n    // filter logic\n    var filterRef = useRef(filter);\n    var _j = useSafeSetState({}), displayedFilters = _j[0], setDisplayedFilters = _j[1];\n    var _k = useSafeSetState(filter), filterValues = _k[0], setFilterValues = _k[1];\n    var hideFilter = useCallback(function (filterName) {\n        setDisplayedFilters(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n        setFilterValues(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        setDisplayedFilters(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = true, _a)));\n        });\n        setFilterValues(function (previousState) {\n            var _a;\n            return removeEmpty(__assign(__assign({}, previousState), (_a = {}, _a[filterName] = defaultValue, _a)));\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var setFilters = useCallback(function (filters, displayedFilters) {\n        setFilterValues(removeEmpty(filters));\n        if (displayedFilters) {\n            setDisplayedFilters(displayedFilters);\n        }\n        setPage(1);\n    }, [setDisplayedFilters, setFilterValues, setPage]);\n    // handle filter prop change\n    useEffect(function () {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n    // We do all the data processing (filtering, sorting, paginating) client-side\n    useEffect(function () {\n        if (!loaded)\n            return;\n        // 1. filter\n        var tempData = data.filter(function (record) {\n            return Object.entries(filterValues).every(function (_a) {\n                var filterName = _a[0], filterValue = _a[1];\n                var recordValue = get(record, filterName);\n                var result = Array.isArray(recordValue)\n                    ? Array.isArray(filterValue)\n                        ? recordValue.some(function (item) { return filterValue.includes(item); })\n                        : recordValue.includes(filterValue)\n                    : Array.isArray(filterValue)\n                        ? filterValue.includes(recordValue)\n                        : filterValue == recordValue; // eslint-disable-line eqeqeq\n                return result;\n            });\n        });\n        var filteredLength = tempData.length;\n        // 2. sort\n        if (sort.field) {\n            tempData = tempData.sort(function (a, b) {\n                if (get(a, sort.field) > get(b, sort.field)) {\n                    return sort.order === 'ASC' ? 1 : -1;\n                }\n                if (get(a, sort.field) < get(b, sort.field)) {\n                    return sort.order === 'ASC' ? -1 : 1;\n                }\n                return 0;\n            });\n        }\n        // 3. paginate\n        tempData = tempData.slice((page - 1) * perPage, page * perPage);\n        var finalData = indexById(tempData);\n        var finalIds = tempData\n            .filter(function (data) { return typeof data !== 'undefined'; })\n            .map(function (data) { return data.id; });\n        setFinalItems({\n            data: finalData,\n            ids: finalIds,\n            total: filteredLength,\n        });\n    }, [\n        data,\n        filterValues,\n        loaded,\n        page,\n        perPage,\n        setFinalItems,\n        sort.field,\n        sort.order,\n    ]);\n    return {\n        currentSort: sort,\n        data: finalItems.data,\n        error: error,\n        displayedFilters: displayedFilters,\n        filterValues: filterValues,\n        hideFilter: hideFilter,\n        ids: finalItems.ids,\n        loaded: loaded,\n        loading: loading,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: finalItems.total,\n    };\n};\nvar defaultFilter = {};\nvar defaultSort = { field: null, order: null };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}