{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport DownloadIcon from '@material-ui/icons/GetApp';\nimport { fetchRelatedRecords, useDataProvider, useNotify, useListContext, useResourceContext } from 'ra-core';\nimport Button from './Button';\nvar ExportButton = function (props) {\n  var _a = props.maxResults,\n    maxResults = _a === void 0 ? 1000 : _a,\n    onClick = props.onClick,\n    _b = props.label,\n    label = _b === void 0 ? 'ra.action.export' : _b,\n    _c = props.icon,\n    icon = _c === void 0 ? defaultIcon : _c,\n    customExporter = props.exporter,\n    sort = props.sort,\n    // deprecated, to be removed in v4\n    rest = __rest(props, [\"maxResults\", \"onClick\", \"label\", \"icon\", \"exporter\", \"sort\"]);\n  var _d = useListContext(props),\n    filter = _d.filter,\n    filterValues = _d.filterValues,\n    currentSort = _d.currentSort,\n    exporterFromContext = _d.exporter,\n    total = _d.total;\n  var resource = useResourceContext(props);\n  var exporter = customExporter || exporterFromContext;\n  var dataProvider = useDataProvider();\n  var notify = useNotify();\n  var handleClick = useCallback(function (event) {\n    dataProvider.getList(resource, {\n      sort: currentSort || sort,\n      filter: filter ? __assign(__assign({}, filterValues), filter) : filterValues,\n      pagination: {\n        page: 1,\n        perPage: maxResults\n      }\n    }).then(function (_a) {\n      var data = _a.data;\n      return exporter && exporter(data, fetchRelatedRecords(dataProvider), dataProvider, resource);\n    }).catch(function (error) {\n      console.error(error);\n      notify('ra.notification.http_error', {\n        type: 'warning'\n      });\n    });\n    if (typeof onClick === 'function') {\n      onClick(event);\n    }\n  }, [currentSort, dataProvider, exporter, filter, filterValues, maxResults, notify, onClick, resource, sort]);\n  return React.createElement(Button, __assign({\n    onClick: handleClick,\n    label: label,\n    disabled: total === 0\n  }, sanitizeRestProps(rest)), icon);\n};\nvar defaultIcon = React.createElement(DownloadIcon, null);\nvar sanitizeRestProps = function (_a) {\n  var basePath = _a.basePath,\n    filterValues = _a.filterValues,\n    resource = _a.resource,\n    rest = __rest(_a, [\"basePath\", \"filterValues\", \"resource\"]);\n  return rest;\n};\nExportButton.propTypes = {\n  basePath: PropTypes.string,\n  exporter: PropTypes.func,\n  filterValues: PropTypes.object,\n  label: PropTypes.string,\n  maxResults: PropTypes.number,\n  resource: PropTypes.string,\n  sort: PropTypes.exact({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  icon: PropTypes.element\n};\nexport default ExportButton;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","useCallback","PropTypes","DownloadIcon","fetchRelatedRecords","useDataProvider","useNotify","useListContext","useResourceContext","Button","ExportButton","props","_a","maxResults","onClick","_b","label","_c","icon","defaultIcon","customExporter","exporter","sort","rest","_d","filter","filterValues","currentSort","exporterFromContext","total","resource","dataProvider","notify","handleClick","event","getList","pagination","page","perPage","then","data","catch","error","console","type","createElement","disabled","sanitizeRestProps","basePath","propTypes","string","func","object","number","exact","field","order","element"],"sources":["/node_modules/ra-ui-materialui/esm/button/ExportButton.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport DownloadIcon from '@material-ui/icons/GetApp';\nimport { fetchRelatedRecords, useDataProvider, useNotify, useListContext, useResourceContext, } from 'ra-core';\nimport Button from './Button';\nvar ExportButton = function (props) {\n    var _a = props.maxResults, maxResults = _a === void 0 ? 1000 : _a, onClick = props.onClick, _b = props.label, label = _b === void 0 ? 'ra.action.export' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, customExporter = props.exporter, sort = props.sort, // deprecated, to be removed in v4\n    rest = __rest(props, [\"maxResults\", \"onClick\", \"label\", \"icon\", \"exporter\", \"sort\"]);\n    var _d = useListContext(props), filter = _d.filter, filterValues = _d.filterValues, currentSort = _d.currentSort, exporterFromContext = _d.exporter, total = _d.total;\n    var resource = useResourceContext(props);\n    var exporter = customExporter || exporterFromContext;\n    var dataProvider = useDataProvider();\n    var notify = useNotify();\n    var handleClick = useCallback(function (event) {\n        dataProvider\n            .getList(resource, {\n            sort: currentSort || sort,\n            filter: filter\n                ? __assign(__assign({}, filterValues), filter) : filterValues,\n            pagination: { page: 1, perPage: maxResults },\n        })\n            .then(function (_a) {\n            var data = _a.data;\n            return exporter &&\n                exporter(data, fetchRelatedRecords(dataProvider), dataProvider, resource);\n        })\n            .catch(function (error) {\n            console.error(error);\n            notify('ra.notification.http_error', { type: 'warning' });\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [\n        currentSort,\n        dataProvider,\n        exporter,\n        filter,\n        filterValues,\n        maxResults,\n        notify,\n        onClick,\n        resource,\n        sort,\n    ]);\n    return (React.createElement(Button, __assign({ onClick: handleClick, label: label, disabled: total === 0 }, sanitizeRestProps(rest)), icon));\n};\nvar defaultIcon = React.createElement(DownloadIcon, null);\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, filterValues = _a.filterValues, resource = _a.resource, rest = __rest(_a, [\"basePath\", \"filterValues\", \"resource\"]);\n    return rest;\n};\nExportButton.propTypes = {\n    basePath: PropTypes.string,\n    exporter: PropTypes.func,\n    filterValues: PropTypes.object,\n    label: PropTypes.string,\n    maxResults: PropTypes.number,\n    resource: PropTypes.string,\n    sort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    icon: PropTypes.element,\n};\nexport default ExportButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}