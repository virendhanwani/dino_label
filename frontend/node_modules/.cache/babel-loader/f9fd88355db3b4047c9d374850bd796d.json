{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport set from 'lodash/set';\nimport removeEmpty from '../../../../util/removeEmpty';\nimport removeKey from '../../../../util/removeKey';\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\nexport var SHOW_FILTER = 'SHOW_FILTER';\nexport var HIDE_FILTER = 'HIDE_FILTER';\nvar oppositeOrder = function (direction) {\n  return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string, NOT for redux.\n */\nvar queryReducer = function (previousState, action) {\n  var _a;\n  switch (action.type) {\n    case SET_SORT:\n      if (action.payload.sort === previousState.sort) {\n        return __assign(__assign({}, previousState), {\n          order: oppositeOrder(previousState.order),\n          page: 1\n        });\n      }\n      return __assign(__assign({}, previousState), {\n        sort: action.payload.sort,\n        order: action.payload.order || SORT_ASC,\n        page: 1\n      });\n    case SET_PAGE:\n      return __assign(__assign({}, previousState), {\n        page: action.payload\n      });\n    case SET_PER_PAGE:\n      return __assign(__assign({}, previousState), {\n        page: 1,\n        perPage: action.payload\n      });\n    case SET_FILTER:\n      {\n        return __assign(__assign({}, previousState), {\n          page: 1,\n          filter: action.payload.filter,\n          displayedFilters: action.payload.displayedFilters ? action.payload.displayedFilters : previousState.displayedFilters\n        });\n      }\n    case SHOW_FILTER:\n      {\n        if (previousState.displayedFilters && previousState.displayedFilters[action.payload.filterName]) {\n          // the filter is already shown\n          return previousState;\n        }\n        return __assign(__assign({}, previousState), {\n          filter: typeof action.payload.defaultValue !== 'undefined' ? set(previousState.filter, action.payload.filterName, action.payload.defaultValue) : previousState.filter,\n          // we don't use lodash.set() for displayed filters\n          // to avoid problems with compound filter names (e.g. 'author.name')\n          displayedFilters: __assign(__assign({}, previousState.displayedFilters), (_a = {}, _a[action.payload.filterName] = true, _a))\n        });\n      }\n    case HIDE_FILTER:\n      {\n        return __assign(__assign({}, previousState), {\n          filter: removeEmpty(removeKey(previousState.filter, action.payload)),\n          // we don't use lodash.set() for displayed filters\n          // to avoid problems with compound filter names (e.g. 'author.name')\n          displayedFilters: previousState.displayedFilters ? Object.keys(previousState.displayedFilters).reduce(function (filters, filter) {\n            var _a;\n            return filter !== action.payload ? __assign(__assign({}, filters), (_a = {}, _a[filter] = true, _a)) : filters;\n          }, {}) : previousState.displayedFilters\n        });\n      }\n    default:\n      return previousState;\n  }\n};\nexport default queryReducer;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","set","removeEmpty","removeKey","SET_SORT","SORT_ASC","SORT_DESC","SET_PAGE","SET_PER_PAGE","SET_FILTER","SHOW_FILTER","HIDE_FILTER","oppositeOrder","direction","queryReducer","previousState","action","_a","type","payload","sort","order","page","perPage","filter","displayedFilters","filterName","defaultValue","keys","reduce","filters"],"sources":["/node_modules/ra-core/esm/reducer/admin/resource/list/queryReducer.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport set from 'lodash/set';\nimport removeEmpty from '../../../../util/removeEmpty';\nimport removeKey from '../../../../util/removeKey';\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\nexport var SHOW_FILTER = 'SHOW_FILTER';\nexport var HIDE_FILTER = 'HIDE_FILTER';\nvar oppositeOrder = function (direction) {\n    return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string, NOT for redux.\n */\nvar queryReducer = function (previousState, action) {\n    var _a;\n    switch (action.type) {\n        case SET_SORT:\n            if (action.payload.sort === previousState.sort) {\n                return __assign(__assign({}, previousState), { order: oppositeOrder(previousState.order), page: 1 });\n            }\n            return __assign(__assign({}, previousState), { sort: action.payload.sort, order: action.payload.order || SORT_ASC, page: 1 });\n        case SET_PAGE:\n            return __assign(__assign({}, previousState), { page: action.payload });\n        case SET_PER_PAGE:\n            return __assign(__assign({}, previousState), { page: 1, perPage: action.payload });\n        case SET_FILTER: {\n            return __assign(__assign({}, previousState), { page: 1, filter: action.payload.filter, displayedFilters: action.payload.displayedFilters\n                    ? action.payload.displayedFilters\n                    : previousState.displayedFilters });\n        }\n        case SHOW_FILTER: {\n            if (previousState.displayedFilters &&\n                previousState.displayedFilters[action.payload.filterName]) {\n                // the filter is already shown\n                return previousState;\n            }\n            return __assign(__assign({}, previousState), { filter: typeof action.payload.defaultValue !== 'undefined'\n                    ? set(previousState.filter, action.payload.filterName, action.payload.defaultValue)\n                    : previousState.filter, \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: __assign(__assign({}, previousState.displayedFilters), (_a = {}, _a[action.payload.filterName] = true, _a)) });\n        }\n        case HIDE_FILTER: {\n            return __assign(__assign({}, previousState), { filter: removeEmpty(removeKey(previousState.filter, action.payload)), \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: previousState.displayedFilters\n                    ? Object.keys(previousState.displayedFilters).reduce(function (filters, filter) {\n                        var _a;\n                        return filter !== action.payload\n                            ? __assign(__assign({}, filters), (_a = {}, _a[filter] = true, _a)) : filters;\n                    }, {})\n                    : previousState.displayedFilters });\n        }\n        default:\n            return previousState;\n    }\n};\nexport default queryReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}